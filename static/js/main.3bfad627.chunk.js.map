{"version":3,"sources":["components/js/colors.js","components/js/abi.js","components/js/kittyMarketplace.abi.js","components/js/kittyConstants.js","components/js/kitty.service.js","components/js/kittyMarketPlace.service.js","components/wallet/networkSlice.js","components/js/walletService.js","components/js/service.js","components/cat/catSlice.js","components/market/offerSlice.js","components/wallet/walletSlice.js","components/admin/kittyCreatorSlice.js","components/wallet/walletSaga.js","components/wallet/Wallet.jsx","components/AppHeader.jsx","components/AppFooter.jsx","components/js/Cattribute.js","components/js/ColorCattribute.js","components/js/dna.js","components/js/catFactory.js","components/factory/CatColorBar.jsx","components/factory/CatSettings.jsx","components/cat/CatPartComp.jsx","components/cat/Cat.jsx","components/cat/DnaViewer.jsx","components/cat/CatFeatures.jsx","components/cat/CatBox.jsx","components/factory/BirthAlert.jsx","components/cat/GenZeroCounter.jsx","components/factory/CatFactory.jsx","components/breed/breedSlice.js","components/cat/CatAction.jsx","components/market/offerSaga.js","components/market/ApproveMarket.jsx","components/cat/CatActions.jsx","components/cat/CatBoxContainers.jsx","components/cat/CatList.jsx","Home.jsx","components/breed/BreedList.jsx","components/cat/catSaga.js","components/breed/breedSaga.js","components/breed/BreedPage.jsx","components/market/Offer.jsx","components/market/MarketPage.jsx","components/js/utils.js","components/notification/transStatusSlice.js","components/notification/TransactionStatusToast.jsx","components/admin/AdminPage.jsx","App.js","components/admin/kittyCreatorSaga.js","components/notification/transStatusSaga.js","app/store.js","app/sagas.js","index.js"],"names":["module","exports","colorObj","10","color","name","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","abi","getDuration","d","units","moment","duration","asMilliseconds","KITTY_COOLDOWNS","durationName","offerTypes","sell","sire","kittyCooldowns","KittyService","EventEmitter","constructor","web3","super","init","async","this","contractAddress","createContractInstance","subscribeToEvents","Error","contractPromise","eth","getAccounts","then","accounts","contract","Contract","from","user","getBirthEventData","values","owner","toLowerCase","kittyId","mumId","dadId","genes","getKittyCreatorEventData","creator","getContractEventData","eventName","data","eventNames","Birth","KittyCreatorAdded","KittyCreatorRemoved","onContractEvent","eventArgs","returnValues","event","emit","isUserOwner","getContract","methods","isOwner","call","isUserKittyCreator","isKittyCreator","getAllKittyCreators","getKittyCreators","creators","filter","c","map","addKittyCreator","address","send","txRecepit","transactionHash","removeKittyCreator","createGen0Kitty","createKittyGen0","dna","getGen0Count","catch","err","console","error","getGen0Limit","CREATION_LIMIT_GEN0","getKitty","id","kitty","birthTime","cooldownEndTime","generation","cooldownIndex","cooldown","getKitties","instance","promises","kittiesOf","kitties","Promise","all","getKittesForIds","kittyIds","length","breed","result","isApproved","isApprovedForAll","approve","setApprovalForAll","window","ethereum","on","events","KittyMarketPlaceService","marketSubscriptions","kittyService","subscribe","callback","push","unsubscribe","i","findIndex","splice","onMarketEvent","trans","cleanTrans","TxType","tokenId","forEach","sub","onAccountChanged","getOffer","offer","seller","price","index","isSireOffer","active","message","includes","getOffers","sellOffers","getAllTokenOnSale","sireOffers","getAllSireOffers","concat","offerIds","getOffersForIds","tokenIds","sellKitty","priceInWei","utils","toWei","setOffer","buyKitty","value","setSireOffer","buySireRites","matronId","removeOffer","MarketTransaction","EthNetworks","num","initialState","ids","Object","keys","entities","networkAdapter","createEntityAdapter","networkSlice","createSlice","reducers","selectAll","selectAllNetworks","selectById","selectNetworkById","selectIds","selectAllNetworkIds","getSelectors","state","networks","WalletService","connect","requestAccounts","getNetwork","getChainId","chainId","getNetworkFromNum","autoRefreshOnNetworkChange","hex","find","network","Service","_Service","chainIdToAddress","market","web3ProviderAvailable","Boolean","Web3","givenProvider","initServices","wallet","initContracts","contractAddresses","catAdapter","sortComparer","a","b","selectId","kittyListSchema","schema","Entity","idAttribute","createAsyncThunk","normalize","fetchKitty","fetchKittiesForIds","getGen0KittyCount","getGen0KittyLimit","breedKitties","_ref","catSlice","getInitialState","newKittenId","genZeroCount","genZeroLimit","kittenBorn","action","payload","addOne","newKittenIdClear","kittyError","addKitties","upsertMany","updateKitty","upsertOne","clearKitties","setAll","extraReducers","fulfilled","actions","selectAllKitties","selectKittyById","selectKittyIds","selectKittiesByOwner","createSelector","_","selectKittyIdsByOwner","offerAdapter","offerListSchema","offers","_ref2","sireKitty","_ref3","_ref4","_ref5","offerSlice","offerCreated","offerPurchased","removeOne","offerCancelled","offerEventNotify","OfferEventDismiss","offerError","clearOffers","selectOfferByKittyId","selectAllOffers","selectOfferIdsByType","offerType","selectSireOfferIdsForBreeding","require","account","isConnected","supportedNetworks","fetchWeb3ProviderIsAvailable","approveMarket","connectWallet","walletSlice","updateAccountNetwork","reducer","prepare","updateOwnerApproved","updateIsKittyCreator","walletDisconnected","walletError","rejected","selectIsApproved","selectIsWalletConnected","selectIsWeb3ProviderAvailable","selectOnSupportedNetwork","some","selectSupportedNetworks","supported","s","selectUser","kittyCreatorAdapter","fetchAllKittyCreators","kittyCreatorSlice","kittyCreatorAdded","kittyCreatorRemoved","toAdd","meta","arg","toRemove","selectAllKittyCreators","kittyCreators","createAction","connectSuccess","contractInitSuccess","contractInitError","web3InitSuccess","watchForKittyCreatorchange","take","select","put","getKittesFromOffers","onAccountOrNetworkChange","gen0Count","gen0Limit","onNetworkChange","isSupportedNetwork","onConnectWallet","race","onWalletDisconnected","createAccountChangedChannel","eventChannel","emitter","emitAccount","off","watchForAccountChange","chanAccountChanged","createNetworkChangedChannel","emitNetwork","getNetworkFromHex","watchForNetworkChange","chanNetworkChanged","detectWeb3Provider","resultAction","match","walletSaga","Wallet","dispatch","useDispatch","useSelector","checkMark","React","createElement","aria-label","className","content","Badge","variant","substring","Button","onClick","AppHeader","onSupportedNetwork","links","Fragment","NavLink","to","factory","admin","Nav","src","alt","width","height","AppFooter","align","Cattribute","props","valueNames","displayName","minValue","maxValue","digits","defaultValue","type","String","padStart","val","strValue","NAMES","eyeShape","decorationPattern","decorationSidescolor","animation","lastNum","TYPES","basic","cattribute","ColorCattribute","getCssColor","bodyColor","accentColor","eyeColor","earColor","decorationMidcolor","KittyDNA","cattributes","1","2","3","4","5","6","7","0","join","_dna","substr","getCattribute","getCattributeValue","setCattributeValue","clone","CatPart","childParts","colorCattributeName","styles","backgroundColor","addSpots","color1","color2","backgroundImage","backgroundPosition","backgroundSize","CatInnerEarPart","borderRadius","position","top","left","CatEarPart","transform","CatEars","CatPupilPart","setPupilPosition","CatEyePart","margin","borderTop","borderLeft","borderRight","borderBottom","setEyeShape","CatEyeLidPart","zIndex","bodyCattribute","EyeLidColor","setLidPosition","pos","bottom","setAnimation","CatEyes","display","CatMouthPart","CatNosePart","CatMuzzlePart","CatHeadPart","CatHeadContainer","CatStripe","angle","colorType","CatBellyPart","border","CatFootPart","CatLegPart","setDecorationPattern","patternNum","decorationColor","CatTailPart","CatBodyPart","addTriangleStripes","stripes","CatBodyContainer","CatModel","cat","arguments","undefined","parts","buildCat","mewtate","cattributeName","newDna","random","newVal","Math","floor","ColorWrapper","styled","div","_templateObject","_taggedTemplateLiteral","ColorSection","_templateObject2","CatColorBar","show","obj","key","style","Cattributes","Col","CatSettings","handleDnaChange","htmlFor","valueName","min","max","onChange","CatPartComp","part","childCatParts","child","Div","Cat","model","Span","span","DnaViewer","PlainCard","Card","CardHeader","Header","BtnSecondary","_templateObject3","CatFeatures","onCooldown","setOnCooldown","useState","toReadyTxt","setToReadyTxt","useEffect","timer","setInterval","now","unix","isBefore","newReadyText","clearInterval","breedCountdown","Alert","Accordion","Toggle","as","eventKey","role","Collapse","Body","Box","CatBox","BirthAlert","handleBirthEventClose","dismissible","onClose","GenZeroCounter","msg","defaultProps","initialCatModel","CatFactory","setCat","kitten","target","oldState","pill","Row","lg","Tabs","defaultActiveKey","Tab","title","handleSetDefaultKitty","defaultCat","handleSetRandomKitty","randomCat","getRandom","handleCreateKitty","ParentType","BreedProgress","kittenId","sireOfferId","progress","breedSlice","breedProgress","setParent","parentId","parentType","kittenBredEvent","sireOfferSelected","breedReset","breedError","selectParentIds","SELL_STATUS","KittyAlert","emptyMessage","text","CatAction","btnText","btnTextPlural","handleBackClicked","handleCreateOfferClicked","handleBuyOfferClicked","handleCancelOffer","sellStatus","setSellStatus","setMessage","setPrice","onPriceChange","e","onCreateOfferClicked","preventDefault","onSireOfferClicked","sellDisplay","Form","inline","onSubmit","InputGroup","Control","step","placeholer","Append","Text","priceInEth","fromWei","sellButton","toString","MarketTransType","marketEvent","buyOffer","cancelOffer","offerRejectedActionMatcher","dispatchAlertOnEventMatch","_tokenId","transType","matchingEvent","eventAction","onOfferError","createMarketEventChannel","onEvent","eventData","watchMarketChannel","chanMarket","onCancelOffer","fork","onBuyOffer","watchForBuyOffer","watchForCancelOffer","offerSaga","ApproveMarket","handleApproveCancel","onApproveClicked","CatActions","isBuyMode","setOfferType","theOfferType","approved","askForApproval","setAskForApproval","createSaleOffer","createSireOffer","handleBuyKittyClicked","handleBuySireOfferClicked","resolve","keyName","onActionClicked","MediumCatContainer","CatList","catBoxes","Container","Featured","Home","featuredCats","size","href","rel","BreedListType","BreedList","listType","handleOnSetParent","pageNum","setPageNum","list","useCurrentKitty","isSireList","useCallback","isOnCoolDown","cooldownEnd","readyStatus","isReady","prevDisabled","nextDisabled","ButtonGroup","disabled","onPrevKittyClicked","onNextKittyClicked","birthEvent","dispatchKittenOnBirthEventMatch","matchFn","kittenEvent","onGenZeroKitty","pending","birth","createBirthEventChannel","dispatchBirthEvent","birthChan","onGen0KittyBirth","catSaga","approveParent","isDifferent","currentParents","setReady","validateParent","onBreed","breedAction","listen","kittenAction","onSire","sireAction","sireId","breedSaga","PlaceHolder","BreedPage","kittyList","sireList","setList","setListType","sireOffer","dadKitty","dad","mumKitty","mum","newKitty","onBreedClicked","onResetParents","sireCostTxt","parentBoxes","instructionContent","kittenBox","sm","Offer","MarketPage","currOfferType","setCurrOfferType","eventAlert","offerBoxes","RequestStatus","transStatusAdapter","transStatusSlice","newTransaction","status","updateTransStatus","updateOne","changes","dismissTransStatus","selectAllTransStatus","transStatus","ToastTopLeft","Toast","TransactionStatusToast","toasts","spinner","Spinner","autoHideDelay","autohide","delay","Address","AdminPage","newCreator","setNewCreator","kittyCreatorItems","Group","placeholder","App","unsupportedNetwork","n","routes","factoryRoute","Route","exact","path","adminRoute","Switch","Redirect","Router","dispatchKittyCreatorEvent","channel","updateAction","kittyCreatorSaga","messagesByAction","loadAction","fulfilledAction","rejectedActions","prefix","typePrefix","oops","onTransaction","actionMessage","pendingAction","requestId","successMessage","fulFilledActionType","rejectActionType","errorMessage","actionRejection","errMsg","getErrorMessage","transStatusSaga","takeEvery","sagaMiddleware","createSagaMidleware","configureStore","breedReducer","kittyReducer","offerReducer","walletReducer","transStatusReducer","networkReducer","kittyCreatorReducer","middleware","getDefaultMiddleware","run","ReactDOM","render","StrictMode","Provider","store","document","getElementById"],"mappings":"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","file":"static/js/main.3bfad627.chunk.js","sourcesContent":["// adapted from https://github.com/arcticfrostgaming/lumio\n\nconst colorObj = {\n  10: { color: '#241C1C', name: 'Rough Coal 1', },\n  11: { color: '#322726', name: 'Rough Coal 2', },\n  12: { color: '#443533', name: 'Rough Coal 3', },\n  13: { color: '#6A5A4E', name: 'Rough Coal 4', },\n  14: { color: '#796A58', name: 'Rough Coal 5', },\n  15: { color: '#462D24', name: 'Soft Earth 1', },\n  16: { color: '#52352A', name: 'Soft Earth 2', },\n  17: { color: '#5D392A', name: 'Soft Earth 3', },\n  18: { color: '#68402F', name: 'Soft Earth 4', },\n  19: { color: '#7A4830', name: 'Soft Earth 5', },\n  20: { color: '#885735', name: 'Soft Earth 6', },\n  21: { color: '#976538', name: 'Soft Earth 7', },\n  22: { color: '#A3743B', name: 'Soft Earth 8', },\n  23: { color: '#AF873E', name: 'Soft Earth 9', },\n  24: { color: '#7E625E', name: 'Hard Metal 1', },\n  25: { color: '#8C7168', name: 'Hard Metal 2', },\n  26: { color: '#9D8275', name: 'Hard Metal 3', },\n  27: { color: '#A9917E', name: 'Hard Metal 4', },\n  28: { color: '#817B60', name: 'Piquant Olive 1', },\n  29: { color: '#958E6F', name: 'Piquant Olive 2', },\n  30: { color: '#A9A37E', name: 'Piquant Olive 3', },\n  31: { color: '#CCC9AA', name: 'Piquant Olive 4', },\n  32: { color: '#CCAFAA', name: 'Cold Snow 1', },\n  33: { color: '#D8C0B6', name: 'Cold Snow 2', },\n  34: { color: '#E3D0C4', name: 'Cold Snow 3', },\n  35: { color: '#E9DBCC', name: 'Cold Snow 4', },\n  36: { color: '#04598F', name: 'Clear Water 1', },\n  37: { color: '#046397', name: 'Clear Water 2', },\n  38: { color: '#046CA5', name: 'Clear Water 3', },\n  39: { color: '#0480A4', name: 'Clear Water 4', },\n  40: { color: '#1398A9', name: 'Clear Water 5', },\n  41: { color: '#26A4AD', name: 'Clear Water 6', },\n  42: { color: '#36B4B0', name: 'Clear Water 7', },\n  43: { color: '#4DC4B1', name: 'Clear Water 8', },\n  44: { color: '#54DEB2', name: 'Clear Water 9', },\n  45: { color: '#553A47', name: 'Hot Flame 1', },\n  46: { color: '#784452', name: 'Hot Flame 2', },\n  47: { color: '#904851', name: 'Hot Flame 3', },\n  48: { color: '#A84E4E', name: 'Hot Flame 4', },\n  49: { color: '#C1604D', name: 'Hot Flame 5', },\n  50: { color: '#D47055', name: 'Hot Flame 6', },\n  51: { color: '#59313B', name: 'Coccoa Bean 1', },\n  52: { color: '#6F393A', name: 'Coccoa Bean 2', },\n  53: { color: '#80483D', name: 'Coccoa Bean 3', },\n  54: { color: '#93573F', name: 'Coccoa Bean 4', },\n  55: { color: '#A36A41', name: 'Coccoa Bean 5', },\n  56: { color: '#B28142', name: 'Coccoa Bean 6', },\n  57: { color: '#843C35', name: 'Tropical Wood 1', },\n  58: { color: '#9C4C3D', name: 'Tropical Wood 2', },\n  59: { color: '#AD6143', name: 'Tropical Wood 3', },\n  60: { color: '#BA7845', name: 'Tropical Wood 4', },\n  61: { color: '#C99147', name: 'Tropical Wood 5', },\n  62: { color: '#A26846', name: 'Fine Sand 1', },\n  63: { color: '#B67D4F', name: 'Fine Sand 2', },\n  64: { color: '#BF8953', name: 'Fine Sand 3', },\n  65: { color: '#C59759', name: 'Fine Sand 4', },\n  66: { color: '#CBA65B', name: 'Fine Sand 5', },\n  67: { color: '#945F3C', name: 'Sweet Banana 1', },\n  68: { color: '#B28142', name: 'Sweet Banana 2', },\n  69: { color: '#CDA544', name: 'Sweet Banana 3', },\n  70: { color: '#ECCF49', name: 'Sweet Banana 4', },\n  71: { color: '#8D492B', name: 'Calm Sunset 1', },\n  72: { color: '#9C522F', name: 'Calm Sunset 2', },\n  73: { color: '#AD5E33', name: 'Calm Sunset 3', },\n  74: { color: '#BF6B3E', name: 'Calm Sunset 4', },\n  75: { color: '#CF7B43', name: 'Calm Sunset 5', },\n  76: { color: '#505B1E', name: 'Living Forest 1', },\n  77: { color: '#626B20', name: 'Living Forest 2', },\n  78: { color: '#777922', name: 'Living Forest 3', },\n  79: { color: '#898B23', name: 'Living Forest 4', },\n  80: { color: '#9D9F28', name: 'Living Forest 5', },\n  81: { color: '#1F6C6B', name: 'Deep Sea 1', },\n  82: { color: '#20806A', name: 'Deep Sea 2', },\n  83: { color: '#469870', name: 'Deep Sea 3', },\n  84: { color: '#75B47A', name: 'Deep Sea 4', },\n  85: { color: '#8CC47B', name: 'Deep Sea 5', },\n  86: { color: '#483F50', name: 'Wild Berries 1', },\n  87: { color: '#664D6E', name: 'Wild Berries 2', },\n  88: { color: '#7F5583', name: 'Wild Berries 3', },\n  89: { color: '#975E95', name: 'Wild Berries 4', },\n  90: { color: '#AB629C', name: 'Wild Berries 5', },\n  91: { color: '#ffffff', name: 'Greys 1', },\n  92: { color: '#f1f1f1', name: 'Greys 2', },\n  93: { color: '#dedede', name: 'Greys 3', },\n  94: { color: '#c6c6c6', name: 'Greys 4', },\n  95: { color: '#a7a7a7', name: 'Greys 5', },\n  96: { color: '#878787', name: 'Greys 6', },\n  97: { color: '#686868', name: 'Greys 7', },\n  98: { color: '#474747', name: 'Greys 8', },\n  99: { color: '#222222', name: 'Greys 9', },\n};\n\nmodule.exports = {\n  colorObj,\n};\n","/* eslint-disable quotes */\n/* eslint-disable quote-props */\nexports.abi = [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"approved\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"operator\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bool\",\n        \"name\": \"approved\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"name\": \"ApprovalForAll\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"kittyId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"mumId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"dadId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"genes\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"Birth\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"creator\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"KittyCreatorAdded\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"creator\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"KittyCreatorRemoved\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"from\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"to\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"uint256\",\n        \"name\": \"tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"CREATION_LIMIT_GEN0\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"DNA_LENGTH\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"NUM_CATTRIBUTES\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"RANDOM_DNA_THRESHOLD\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_address\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"addKittyCreator\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_approved\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"balance\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"cooldowns\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint32\",\n        \"name\": \"\",\n        \"type\": \"uint32\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"getApproved\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_kittyId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"getKitty\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"kittyId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"genes\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"birthTime\",\n        \"type\": \"uint64\",\n      },\n      {\n        \"internalType\": \"uint64\",\n        \"name\": \"cooldownEndTime\",\n        \"type\": \"uint64\",\n      },\n      {\n        \"internalType\": \"uint32\",\n        \"name\": \"mumId\",\n        \"type\": \"uint32\",\n      },\n      {\n        \"internalType\": \"uint32\",\n        \"name\": \"dadId\",\n        \"type\": \"uint32\",\n      },\n      {\n        \"internalType\": \"uint16\",\n        \"name\": \"generation\",\n        \"type\": \"uint16\",\n      },\n      {\n        \"internalType\": \"uint16\",\n        \"name\": \"cooldownIndex\",\n        \"type\": \"uint16\",\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"getKittyCreators\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address[]\",\n        \"name\": \"\",\n        \"type\": \"address[]\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_kittyId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"isApproved\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_owner\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_operator\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"isApprovedForAll\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_kittyId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"isApprovedOperatorOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_address\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"isKittyCreator\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_kittyId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"isKittyOwner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"isOwner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"kittyToApproved\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"tokenName\",\n        \"type\": \"string\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"ownerOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_address\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"removeKittyCreator\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_from\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_to\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_from\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_to\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"_data\",\n        \"type\": \"bytes\",\n      }\n    ],\n    \"name\": \"safeTransferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_operator\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"_approved\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"name\": \"setApprovalForAll\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes4\",\n        \"name\": \"_interfaceId\",\n        \"type\": \"bytes4\",\n      }\n    ],\n    \"name\": \"supportsInterface\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"tokenSymbol\",\n        \"type\": \"string\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"total\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_to\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_from\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_to\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_owner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"kittiesOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256[]\",\n        \"name\": \"\",\n        \"type\": \"uint256[]\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"getGen0Count\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_genes\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"createKittyGen0\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_dadId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_mumId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"breed\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_kittyId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"readyToBreed\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_dadId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_mumId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"isApprovedForSiring\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_dadId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_mumId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"_isApproved\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"name\": \"sireApprove\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  }\n];\n","/* eslint-disable quotes */\n/* eslint-disable quote-props */\nexports.abi = [\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_kittyContractAddress\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"string\",\n        \"name\": \"TxType\",\n        \"type\": \"string\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"MarketTransaction\",\n    \"type\": \"event\",\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\",\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"isOwner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"hasActiveOffer\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_kittyContractAddress\",\n        \"type\": \"address\",\n      }\n    ],\n    \"name\": \"setKittyContract\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"getOffer\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"seller\",\n        \"type\": \"address\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"price\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"index\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"tokenId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"isSireOffer\",\n        \"type\": \"bool\",\n      },\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"active\",\n        \"type\": \"bool\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"getAllTokenOnSale\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256[]\",\n        \"name\": \"listOfOffers\",\n        \"type\": \"uint256[]\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": true,\n    \"inputs\": [],\n    \"name\": \"getAllSireOffers\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256[]\",\n        \"name\": \"listOfOffers\",\n        \"type\": \"uint256[]\",\n      }\n    ],\n    \"payable\": false,\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_price\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"setOffer\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_price\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"setSireOffer\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"removeOffer\",\n    \"outputs\": [],\n    \"payable\": false,\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_tokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"buyKitty\",\n    \"outputs\": [],\n    \"payable\": true,\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\",\n  },\n  {\n    \"constant\": false,\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_sireTokenId\",\n        \"type\": \"uint256\",\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"_matronTokenId\",\n        \"type\": \"uint256\",\n      }\n    ],\n    \"name\": \"buySireRites\",\n    \"outputs\": [],\n    \"payable\": true,\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\",\n  }\n];\n","import moment from 'moment';\n\nconst getDuration = (d, units) => moment.duration(d, units).asMilliseconds();\n\nconst KITTY_COOLDOWNS = [\n  { name: 'Fast', durationName: '1m', duration: getDuration(1, 'minute'), },\n  { name: 'Swift', durationName: '2m', duration: getDuration(2, 'minutes'), },\n  { name: 'Swift II', durationName: '5m', duration: getDuration(5, 'minutes'), },\n  { name: 'Snappy', durationName: '10m', duration: getDuration(10, 'minutes'), },\n  { name: 'Snappy II', durationName: '30m', duration: getDuration(30, 'minutes'), },\n  { name: 'Brisk', durationName: '1h', duration: getDuration(1, 'hour'), },\n  { name: 'Brisk II', durationName: '2h', duration: getDuration(2, 'hours'), },\n  { name: 'Plodding', durationName: '4h', duration: getDuration(4, 'hours'), },\n  { name: 'Plodding II', durationName: '8h', duration: getDuration(8, 'hours'), },\n  { name: 'Slow', durationName: '16h', duration: getDuration(16, 'hours'), },\n  { name: 'Slow II', durationName: '1 day', duration: getDuration(1, 'day'), },\n  { name: 'Sluggish', durationName: '2 days', duration: getDuration(2, 'days'), },\n  { name: 'Sluggish II', durationName: '4 days', duration: getDuration(4, 'days'), },\n  { name: 'Catatonic', durationName: '7 days', duration: getDuration(7, 'days'), },\n];\n\nconst OFFER_TYPES = {\n  sell: 'Sell',\n  sire: 'Sire',\n};\n\nexport const offerTypes = OFFER_TYPES;\nexport const kittyCooldowns = KITTY_COOLDOWNS;\nexport const zeroAddress = '0x0000000000000000000000000000000000000000';\n","import EventEmitter from 'events';\nimport { abi } from './abi';\nimport { kittyCooldowns, zeroAddress } from './kittyConstants';\n\nexport default class KittyService extends EventEmitter {\n  static eventNames = {\n    Birth: 'Birth',\n    KittyCreatorAdded: 'KittyCreatorAdded',\n    KittyCreatorRemoved: 'KittyCreatorRemoved',\n  };\n\n  contractAddress; // address\n  user; // address\n  contract; // Web3.eth.Contract\n  contractPromise; // Promise<Web3.eth.Contract>\n\n  constructor(web3) {\n    super();\n    this.web3 = web3;\n  }\n\n  init = async (contractAddress) => {\n    this.contractAddress = contractAddress;\n    await this.createContractInstance(contractAddress);\n    this.subscribeToEvents();\n  }\n\n  createContractInstance = async () => {\n    if (!this.contractAddress) {\n      throw new Error('No contract address! Attempting to use contract before initialization');\n    }\n\n    this.contractPromise = this.web3.eth.getAccounts().then((accounts) => {\n      this.contract = new this.web3.eth.Contract(\n        abi,\n        this.contractAddress,\n        { from: accounts[0], }\n      );\n      this.user = accounts[0];\n      // console.log('user: ', this.user, 'kitty contract: ', this.contract);\n\n      return this.contract;\n    });\n\n    return this.contractPromise;\n  }\n\n  async getContract() {\n    if (this.contract) {\n      return this.contract;\n    }\n    if (this.contractPromise) {\n      return this.contractPromise;\n    }\n\n    return this.createContractInstance();\n  }\n\n  /**\n   * Initializes the contract event subscriptions\n   * so they can be re-emitted and/or handled\n   */\n  async subscribeToEvents() {\n    window.ethereum.on(\n      'accountsChanged',\n      (accounts) => { this.user = accounts[0]; }\n    );\n\n    const instance = await this.getContract();\n    instance.events.Birth()\n      .on('data', this.onContractEvent)\n      .on('error', console.error);\n\n    instance.events.KittyCreatorAdded()\n      .on('data', this.onContractEvent)\n      .on('error', console.error);\n\n    instance.events.KittyCreatorRemoved()\n      .on('data', this.onContractEvent)\n      .on('error', console.error);\n  }\n\n  /**\n   * Extracts data for the Brith event\n   * @param {*} values web3 event return values\n   */\n  getBirthEventData = (values) => ({\n    // remove checksum capitalization for comparison consistancy\n    owner: values.owner.toLowerCase(),\n    kittyId: values.kittyId,\n    mumId: values.mumId,\n    dadId: values.dadId,\n    genes: values.genes,\n  });\n\n  /**\n   * Extacts the event data for the\n   * KittyCreatorAdded and KittyCreatorRemoved events\n   * as both events have the same params\n   * @param {*} values web3 event return values\n   */\n  getKittyCreatorEventData = (values) => ({\n    // remove checksum capitalization for comparison consistancy\n    creator: values.creator.toLowerCase(),\n  });\n\n  /**\n   * Extracts a sanitized version of the event return values.\n   * Uses the event name to call the appropriate extractor\n   * @param {string} eventName contract event name\n   * @param {*} values web3 event return values\n   */\n  getContractEventData = (eventName, values) => {\n    // remove the extra stuff added by web3.js\n    let data = {};\n    switch (eventName) {\n      case KittyService.eventNames.Birth:\n        data = this.getBirthEventData(values);\n        break;\n\n      case KittyService.eventNames.KittyCreatorAdded:\n      case KittyService.eventNames.KittyCreatorRemoved:\n        data = this.getKittyCreatorEventData(values);\n        break;\n\n      default:\n        break;\n    }\n\n    return data;\n  };\n\n  /**\n   * Handles events coming from the contract\n   * Extracts sanitizes the event data and re-emits the event\n   * to subscribers of the service\n   * @param {*} eventArgs the web3.js event\n   */\n  onContractEvent = (eventArgs) => {\n    const values = eventArgs.returnValues;\n    const eventName = eventArgs.event;\n\n    const data = this.getContractEventData(eventName, values);\n    this.emit(eventName, data);\n    // console.log('KittyService::onContractEvent: ', eventName, data);\n  }\n\n  /**\n   * Return true if the current user is the contract owner\n   * @returns {Promise<boolean>}\n   */\n  isUserOwner = async () => {\n    const instance = await this.getContract();\n    return instance.methods\n      .isOwner()\n      .call({ from: this.user, });\n  }\n\n  /**\n   * Returns true if the current user is allowed\n   * to create generation zero kitties\n   * @returns {Promise<boolean>}\n   */\n  isUserKittyCreator = async () => {\n    const instance = await this.getContract();\n    return instance.methods\n      .isKittyCreator(this.user)\n      .call({ from: this.user, });\n  }\n\n  /**\n   * Returns a list of all the Kitty Creator addresses\n   * @returns {Promise<string[]>}\n   */\n  getAllKittyCreators = async () => {\n    const instance = await this.getContract();\n    return instance.methods\n      .getKittyCreators()\n      .call({ from: this.user, })\n      .then((creators) => creators\n        .filter((c) => c !== zeroAddress)\n        // remove checksum capitalization for comparison consistancy\n        .map((c) => c.toLowerCase()));\n  }\n\n  /**\n   * Adds a new Kitty Creator permission for the given address\n   * @param {string} address address to add\n   * @returns {Promise<string>} the transaction hash\n   */\n  addKittyCreator = async (address) => {\n    const instance = await this.getContract();\n    return instance.methods\n      .addKittyCreator(address)\n      .send({ from: this.user, })\n      .then((txRecepit) => txRecepit.transactionHash);\n  };\n\n  /**\n   * Removes the Kitty Creator permission for the given address\n   * @param {string} address address to remove\n   * @returns {Promise<string>} the transaction hash\n   */\n  removeKittyCreator = async (address) => {\n    const instance = await this.getContract();\n    return instance.methods\n      .removeKittyCreator(address)\n      .send({ from: this.user, })\n      .then((txRecepit) => txRecepit.transactionHash);\n  };\n\n  /**\n   * Creates a special new kitten with no parents.\n   * Will have generation zero\n   * @param {string} dna the DNA of the new kitten\n   * @throws if sender is not the contract owner\n   * @returns {Promise<string>} the transaction hash on success\n   */\n  createGen0Kitty = async (dna) => {\n    const instance = await this.getContract();\n    return instance.methods\n      .createKittyGen0(dna)\n      .send({ from: this.user, })\n      .then((txRecepit) => txRecepit.transactionHash);\n  }\n\n  /**\n   * Returns the current number of generation\n   * zero kitties which have been created\n   * @returns {Promise<number>}\n   */\n  getGen0Count = async () => {\n    const instance = await this.getContract();\n    return instance.methods\n      .getGen0Count()\n      .call()\n      .catch((err) => {\n        console.error(err);\n        return err;\n      });\n  };\n\n  /**\n   * Returns the total number of generation zero\n   * kitties which can exist\n   * @returns {Promise<number>}\n   */\n  getGen0Limit = async () => {\n    const instance = await this.getContract();\n    return instance.methods\n      .CREATION_LIMIT_GEN0()\n      .call()\n      .catch((err) => {\n        console.error(err);\n        return err;\n      });\n  };\n\n  getKitty = async (id) => {\n    const instance = await this.getContract();\n    return instance.methods\n      .getKitty(id)\n      .call()\n      .then((kitty) => ({\n        kittyId: id,\n        genes: kitty.genes,\n        birthTime: kitty.birthTime,\n        cooldownEndTime: kitty.cooldownEndTime,\n        mumId: kitty.mumId,\n        dadId: kitty.dadId,\n        generation: kitty.generation,\n        cooldownIndex: kitty.cooldownIndex,\n        cooldown: kittyCooldowns[kitty.cooldownIndex],\n        owner: kitty.owner.toLowerCase(),\n      }));\n  }\n\n  getKitties = async () => {\n    const instance = await this.getContract();\n    const kittyIds = await instance.methods\n      .kittiesOf(this.user)\n      .call({ from: this.user, });\n\n    const promises = kittyIds.map((id) => this.getKitty(id));\n    this.kitties = await Promise.all(promises);\n\n    // console.log(`Kittes for ${this.user} loaded: `, this.kitties);\n\n    return this.kitties;\n  }\n\n  getKittesForIds = async (kittyIds) => {\n    if (!kittyIds || !kittyIds.length) {\n      return [];\n    }\n\n    return Promise.all(kittyIds.map(\n      (kittyId) => this.getKitty(kittyId)\n    ));\n  }\n\n  breed = async (mumId, dadId) => {\n    const instance = await this.getContract();\n    return instance.methods\n      .breed(dadId, mumId)\n      .send({ from: this.user, })\n      .then((result) => result.transactionHash);\n  }\n\n  isApproved = async (address) => {\n    const instance = await this.getContract();\n    return instance.methods\n      .isApprovedForAll(this.user, address)\n      .call({ from: this.user, });\n  }\n\n  approve = async (address) => {\n    // set the market as an approved operator\n    const instance = await this.getContract();\n    return instance.methods\n      .setApprovalForAll(address, true)\n      .send({ from: this.user, })\n      .then(() => true);\n  }\n}\n","import { abi } from './kittyMarketplace.abi';\n\n\nexport default class KittyMarketPlaceService {\n  contractAddress; // address\n  user; // address\n  contract; // Web3.eth.Contract\n  contractPromise; // Promise<Web3.eth.Contract>\n  kittyService; // KittyService\n  marketSubscriptions = []; // [func]\n\n  constructor(web3) {\n    this.web3 = web3;\n  }\n\n  init = async (contractAddress, kittyService) => {\n    this.contractAddress = contractAddress;\n    this.kittyService = kittyService;\n    this.contractPromise = null;\n    this.contract = null;\n    await this.createContractInstance();\n    this.subscribeToEvents();\n  }\n\n  createContractInstance = async () => {\n    if (!this.contractAddress) {\n      throw new Error('No contract address! Attempting to use contract before initialization');\n    }\n\n    this.contractPromise = this.web3.eth.getAccounts().then((accounts) => {\n      this.contract = new this.web3.eth.Contract(\n        abi,\n        this.contractAddress,\n        { from: accounts[0], }\n      );\n      this.user = accounts[0];\n      // console.log('user: ', this.user, 'market contract: ', this.contract);\n\n      return this.contract;\n    });\n\n    return this.contractPromise;\n  }\n\n  async getContract() {\n    if (this.contract) {\n      return this.contract;\n    }\n    if (this.contractPromise) {\n      return this.contractPromise;\n    }\n\n    return this.createContractInstance();\n  }\n\n  subscribe = (callback) => {\n    this.marketSubscriptions.push(callback);\n  }\n\n  unsubscribe = (callback) => {\n    const i = this.marketSubscriptions.findIndex(callback);\n    if (i >= 0) {\n      this.marketSubscriptions.splice(i, 1);\n    }\n  }\n\n  async subscribeToEvents() {\n    window.ethereum.on(\n      'accountsChanged',\n      this.onAccountChanged\n    );\n\n    const instance = await this.getContract();\n    instance.events.MarketTransaction()\n      .on('data', this.onMarketEvent)\n      .on('error', console.error);\n  }\n\n  onMarketEvent = (event) => {\n    const trans = event.returnValues;\n    const cleanTrans = {\n      TxType: trans.TxType,\n      owner: trans.owner.toLowerCase(),\n      tokenId: trans.tokenId,\n    };\n    // console.log('On Marketplace event: ', cleanTrans,\n    //   'subscriptions: ', this.marketSubscriptions.length);\n\n    // emit event\n    this.marketSubscriptions.forEach((sub) => sub(cleanTrans));\n  }\n\n  onAccountChanged = (accounts) => {\n    // console.log('account changed: ', accounts);\n    this.user = accounts[0];\n  }\n\n  getKitty = async (id) => this.kittyService.getKitty(id)\n\n  getOffer = async (tokenId) => {\n    // TODO: add hasOffer(uint256 _tokenId) function to contract\n    // to avoid revert as it spams the console with error messages\n    // even though it's caught\n    const instance = await this.getContract();\n    return instance.methods.getOffer(tokenId)\n      .call({ from: this.user, })\n      .then((offer) => ({\n        seller: offer.seller.toLowerCase(),\n        price: offer.price,\n        index: offer.index,\n        tokenId: offer.tokenId,\n        isSireOffer: offer.isSireOffer,\n        active: offer.active,\n      }))\n      .catch((err) => {\n        if (!err.message.includes('offer not active')) {\n          console.error(err);\n        }\n        return undefined;\n      });\n  }\n\n  getOffers = async () => {\n    const sellOffers = await this.getAllTokenOnSale();\n    const sireOffers = await this.getAllSireOffers();\n    const allOffers = sellOffers.concat(sireOffers);\n    return allOffers;\n  }\n\n  getAllTokenOnSale = async () => {\n    const instance = await this.getContract();\n    const offerIds = await instance.methods\n      .getAllTokenOnSale()\n      .call({ from: this.user, });\n\n    const offers = await this.getOffersForIds(offerIds);\n    // console.log(`Sell offers loaded: `, offers);\n\n    return offers;\n  }\n\n  getOffersForIds = async (tokenIds) => {\n    const promises = tokenIds.map((id) => this.getOffer(id));\n    const offers = await Promise.all(promises);\n\n    return offers;\n  }\n\n  getAllSireOffers = async () => {\n    // console.log('getting sire offers');\n    const instance = await this.getContract();\n    const offerIds = await instance.methods\n      .getAllSireOffers()\n      .call({ from: this.user, });\n\n    const offers = await this.getOffersForIds(offerIds);\n    // console.log('Sire offers loaded: ', offers);\n\n    return offers;\n  }\n\n  isApproved = async () => this.kittyService\n    .isApproved(this.contractAddress)\n\n  // set the market as an approved operator\n  approve = async () => this.kittyService\n    .approve(this.contractAddress)\n\n\n  sellKitty = async (kittyId, price) => {\n    // console.log('kittyId: ', kittyId, ' price: ', price, typeof price);\n\n    // throw if market is NOT operator\n    // call contract to sell kitty\n    const instance = await this.getContract();\n    const priceInWei = this.web3.utils\n      .toWei(price, 'ether');\n\n    return instance.methods\n      .setOffer(priceInWei, kittyId)\n      .send({ from: this.user, })\n      .then(() => true);\n  }\n\n  buyKitty = async (offer) => {\n    // TODO: check user balance for insufficient funds\n    const instance = await this.getContract();\n    return instance.methods\n      .buyKitty(offer.tokenId)\n      .send({ from: this.user, value: offer.price, })\n      .then(() => true);\n  }\n\n  setSireOffer = async (kittyId, price) => {\n    const instance = await this.getContract();\n    const priceInWei = this.web3.utils\n      .toWei(price, 'ether');\n    // console.log(`Creating sire offer of ${price} for kittyId: ${kittyId}`);\n\n    return instance.methods\n      .setSireOffer(priceInWei, kittyId)\n      .send({ from: this.user, })\n      .then(() => true);\n  }\n\n  buySireRites = async (offer, matronId) => {\n    // console.log('buySireRites:: offer: ', offer, ' matronId: ', matronId);\n    const instance = await this.getContract();\n    return instance.methods\n      .buySireRites(offer.tokenId, matronId)\n      .send({ from: this.user, value: offer.price, })\n      .then(() => true);\n  }\n\n  removeOffer = async (tokenId) => {\n    // console.log('Removing offer for kittyId:', tokenId);\n    const instance = await this.getContract();\n    return instance.methods\n      .removeOffer(tokenId)\n      .send({ from: this.user, })\n      .then(() => true);\n  }\n}\n","import { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nexport const EthNetworks = {\n  '0x1': { id: '0x1', num: 1, name: 'Ethereum MainNet', },\n  '0x3': { id: '0x3', num: 3, name: 'Ropsten Test', },\n  '0x4': { id: '0x4', num: 4, name: 'Rinkeby Test', },\n  '0x5': { id: '0x5', num: 5, name: 'Goerli Test', },\n  '0x2a': { id: '0x2a', num: 42, name: 'Kovan Test', },\n  '0x539': { id: '0x539', num: 1337, name: 'Ganache Local', },\n};\n\nconst initialState = {\n  ids: Object.keys(EthNetworks),\n  entities: EthNetworks,\n};\n\nconst networkAdapter = createEntityAdapter();\n\nconst networkSlice = createSlice({\n  name: 'networks',\n  initialState,\n  reducers: {},\n});\n\nexport const {\n  selectAll: selectAllNetworks,\n  selectById: selectNetworkById,\n  selectIds: selectAllNetworkIds,\n} = networkAdapter.getSelectors((state) => state.networks);\n\nexport default networkSlice.reducer;\n","import { EthNetworks } from '../wallet/networkSlice';\n\nexport default class WalletService {\n  constructor(web3) {\n    this.web3 = web3;\n    if (window.ethereum) {\n      window.ethereum.autoRefreshOnNetworkChange = false;\n    }\n  }\n\n  connect = async () => this.web3.eth.requestAccounts()\n    .then((accounts) => accounts[0].toLowerCase())\n\n  getNetwork = async () => this.web3.eth.getChainId()\n    .then((chainId) => {\n      const network = WalletService.getNetworkFromNum(chainId);\n      // console.log('getNetwork: networkId: ', chainId, network);\n      return network;\n    })\n\n  static getNetworkFromHex(hex) {\n    const result = Object.values(EthNetworks)\n      .find((network) => network.id === hex);\n    return result || {};\n  }\n\n  static getNetworkFromNum(num) {\n    const result = Object.values(EthNetworks)\n      .find((network) => network.num === num);\n    return result || {};\n  }\n}\n","import Web3 from 'web3';\nimport KittyService from './kitty.service';\nimport KittyMarketPlaceService from './kittyMarketPlace.service';\nimport WalletService from './walletService';\n\nexport default class Service {\n  static chainIdToAddress = {\n    // '0x1': // Etereum MainNet\n    '0x3': {\n      // Ropsten Test'\n      kitty: '0xD4Bcc3f1C483Ea10fDb97523357CA660E6B3c71E',\n      market: '0xa67e70910341DDF96537F005280a4417b5B29578',\n    },\n    '0x539': {\n      // Ganache Local\n      kitty: '0x9312e2681EC932ab10a8733F4Ff60B4068D32B6F',\n      market: '0xe59ff6CF2f513Ea166D6af2226D78705906EA6bB',\n    },\n  };\n\n  static web3;\n  static kitty;\n  static market;\n  static wallet;\n\n  static web3ProviderAvailable = () => Boolean(Web3.givenProvider);\n\n  static initServices = () => {\n    if (!Service.web3ProviderAvailable()) {\n      throw new Error('No web 3 provider available. Please install Metamask');\n    }\n\n    this.web3 = new Web3(Web3.givenProvider);\n    this.kitty = new KittyService(Service.web3);\n    this.market = new KittyMarketPlaceService(Service.web3);\n    this.wallet = new WalletService(Service.web3);\n  }\n\n  static initContracts = async (chainId) => {\n    const contractAddresses = this.chainIdToAddress[chainId];\n    if (!contractAddresses) {\n      throw new Error(`Contract init error. Unsupported chainId: ${chainId}`);\n    }\n\n    Service.kitty.init(contractAddresses.kitty);\n    Service.market.init(contractAddresses.market, Service.kitty);\n  }\n}\n","/* eslint-disable no-param-reassign */\nimport {\n  createAsyncThunk, createEntityAdapter, createSelector, createSlice\n} from '@reduxjs/toolkit';\nimport { normalize, schema } from 'normalizr';\n\nimport Service from '../js/service';\n\nconst catAdapter = createEntityAdapter({\n  // sort by kittyId descending\n  sortComparer: (a, b) => b.kittyId - a.kittyId,\n  selectId: (kitty) => kitty.kittyId,\n});\n\n// define kitty schema\nexport const kittySchema = new schema.Entity(\n  'kitties', {}, { idAttribute: 'kittyId', }\n);\n\nexport const kittyListSchema = [kittySchema];\n\n/*\n * requests\n*/\nexport const getKitties = createAsyncThunk(\n  'kitties/getKitties',\n  async () => {\n    const data = await Service.kitty.getKitties();\n    const normalized = normalize(data, kittyListSchema);\n    // console.log('kitties/getKitties: normalized: ', normalized);\n    return normalized.entities.kitties || [];\n  }\n);\n\nexport const fetchKitty = createAsyncThunk(\n  'kitties/fetchKitty',\n  async (kittyId) => Service.kitty.getKitty(kittyId)\n);\n\nexport const fetchKittiesForIds = createAsyncThunk(\n  'kitties/fetchKittiesForIds',\n  async (kittyIds) => Service.kitty.getKittesForIds(kittyIds)\n);\n\nexport const createGen0Kitty = createAsyncThunk(\n  'kitties/createGen0Kitty',\n  async (dna) => Service.kitty.createGen0Kitty(dna)\n);\n\nexport const getGen0KittyCount = createAsyncThunk(\n  'kitties/getGen0Count',\n  async () => Service.kitty.getGen0Count()\n);\n\nexport const getGen0KittyLimit = createAsyncThunk(\n  'kitties/getGen0Limit',\n  async () => Service.kitty.getGen0Limit()\n);\n\nexport const breedKitties = createAsyncThunk(\n  'kitties/breedKitties',\n  ({ mumId, dadId, }) => Service.kitty.breed(mumId, dadId)\n);\n\nconst catSlice = createSlice({\n  name: 'kitties',\n  initialState: catAdapter.getInitialState({\n    newKittenId: null,\n    error: null,\n    genZeroCount: null,\n    genZeroLimit: null,\n  }),\n  reducers: {\n    kittenBorn: (state, action) => {\n      state.newKittenId = action.payload.kittyId;\n      catAdapter.addOne(state, action.payload);\n    },\n    newKittenIdClear: (state) => {\n      state.newKittenId = null;\n    },\n    kittyError: (state, action) => {\n      state.error = action.payload;\n    },\n    addKitties: catAdapter.upsertMany,\n    updateKitty: catAdapter.upsertOne,\n    clearKitties: (state) => {\n      catAdapter.setAll(state, []);\n      state.newKittenId = null;\n      state.error = null;\n    },\n  },\n  extraReducers: {\n    [getKitties.fulfilled]: catAdapter.setAll,\n\n    [fetchKitty.fulfilled]: catAdapter.upsertOne,\n\n    [fetchKittiesForIds.fulfilled]: catAdapter.upsertMany,\n\n    [getGen0KittyCount.fulfilled]: (state, action) => {\n      state.genZeroCount = action.payload;\n    },\n\n    [getGen0KittyLimit.fulfilled]: (state, action) => {\n      state.genZeroLimit = action.payload;\n    },\n  },\n});\n\nexport const {\n  addKitties,\n  clearKitties,\n  kittyError,\n  kittenBorn,\n  newKittenIdClear,\n  updateKitty,\n} = catSlice.actions;\n\nexport default catSlice.reducer;\n\nexport const {\n  selectAll: selectAllKitties,\n  selectById: selectKittyById,\n  selectIds: selectKittyIds,\n} = catAdapter.getSelectors((state) => state.kitties);\n\nexport const selectKittiesByOwner = createSelector(\n  [selectAllKitties, (_, owner) => owner],\n  (entities, owner) => entities.filter((kitty) => kitty.owner === owner)\n);\n\nexport const selectKittyIdsByOwner = createSelector(\n  selectKittiesByOwner,\n  (entities) => entities.map((kitty) => kitty.kittyId)\n);\n","/* eslint-disable no-param-reassign */\nimport {\n  createAsyncThunk, createEntityAdapter, createSelector, createSlice\n} from '@reduxjs/toolkit';\nimport { normalize, schema } from 'normalizr';\n\nimport { offerTypes } from '../js/kittyConstants';\nimport Service from '../js/service';\n\n\nconst offerAdapter = createEntityAdapter({\n  selectId: (offer) => offer.tokenId,\n});\n\n// define schema\nexport const offerSchema = new schema.Entity(\n  'offers', {}, { idAttribute: 'tokenId', }\n);\n\nexport const offerListSchema = [offerSchema];\n\n/*\n * requests\n*/\nexport const getOffers = createAsyncThunk(\n  'offers/getOffers',\n  async () => {\n    const data = await Service.market.getOffers();\n    const normalized = normalize(data, offerListSchema);\n    // console.log('getOffers: ', normalized);\n    return normalized.entities.offers || [];\n  }\n);\n\nexport const sellKitty = createAsyncThunk(\n  'offers/sellKitty',\n  async ({ kittyId, price, }) => Service.market.sellKitty(kittyId, price)\n);\n\nexport const buyKitty = createAsyncThunk(\n  'offers/buyKitty',\n  async ({ offer, }) => Service.market.buyKitty(offer)\n);\n\nexport const sireKitty = createAsyncThunk(\n  'offer/sireKitty',\n  async ({ kittyId, price, }) => Service.market.setSireOffer(kittyId, price)\n);\n\nexport const buySireRites = createAsyncThunk(\n  'offers/buySireRites',\n  async ({ offer, matronId, }) => Service.market.buySireRites(offer, matronId)\n);\n\nexport const removeOffer = createAsyncThunk(\n  'offers/removeOffer',\n  async ({ kittyId, }) => Service.market.removeOffer(kittyId)\n);\n\nconst offerSlice = createSlice({\n  name: 'offers',\n  initialState: offerAdapter.getInitialState({\n    event: null,\n    error: null,\n  }),\n  reducers: {\n    offerCreated: offerAdapter.addOne,\n    offerPurchased: (state, action) => {\n      offerAdapter.removeOne(state, action.payload.tokenId);\n    },\n    offerCancelled: (state, action) => {\n      offerAdapter.removeOne(state, action.payload.tokenId);\n    },\n    offerEventNotify: (state, action) => {\n      state.event = action.payload;\n    },\n    OfferEventDismiss: (state) => {\n      state.event = null;\n    },\n    offerError: (state, action) => {\n      state.error = action.payload;\n    },\n    clearOffers: (state) => {\n      offerAdapter.setAll(state, []);\n      state.event = null;\n      state.error = null;\n    },\n  },\n  extraReducers: {\n    [getOffers.fulfilled]: offerAdapter.setAll,\n  },\n});\n\nexport const {\n  clearOffers,\n  offerCreated,\n  offerPurchased,\n  offerCancelled,\n  offerEventNotify,\n  OfferEventDismiss,\n  offerError,\n} = offerSlice.actions;\n\nexport default offerSlice.reducer;\n\n/*\n * Selectors\n*/\nexport const {\n  selectById: selectOfferByKittyId,\n  selectAll: selectAllOffers,\n} = offerAdapter.getSelectors((state) => state.offers);\n\nexport const selectOfferIdsByType = createSelector(\n  [selectAllOffers, (_, offerType) => offerType],\n  (offers, offerType) => {\n    const isSireOffer = offerType === offerTypes.sire;\n    return offers.filter((offer) => offer.isSireOffer === isSireOffer)\n      .map((offer) => offer.tokenId);\n  }\n);\n\nexport const selectSireOfferIdsForBreeding = createSelector(\n  [selectAllOffers, (_, user) => user],\n  (offers, user) => offers\n    .filter((offer) => offer.isSireOffer && offer.seller !== user)\n    .map((offer) => offer.tokenId)\n);\n\nexport const selectOfferRequestStatus = (state) => state.offers.status;\n","/* eslint-disable no-param-reassign */\nimport Service from '../js/service';\nimport { selectAllNetworks } from './networkSlice';\n\nconst {\n  createEntityAdapter, createSlice, createAsyncThunk, createSelector,\n} = require('@reduxjs/toolkit');\n\nconst walletAdapter = createEntityAdapter();\n\nconst initialState = walletAdapter.getInitialState({\n  account: null,\n  error: null,\n  isApproved: null,\n  isConnected: false,\n  isKittyCreator: false,\n  isOwner: false,\n  network: null,\n  supportedNetworks: ['0x3', '0x539'],\n  web3ProviderAvailable: null,\n});\n\nexport const fetchWeb3ProviderIsAvailable = createAsyncThunk(\n  'wallet/fetchWeb3ProviderIsAvailable',\n  () => Service.web3ProviderAvailable()\n);\n\nexport const approveMarket = createAsyncThunk(\n  'wallet/approveMarket',\n  () => Service.market.approve()\n);\n\nexport const connectWallet = createAsyncThunk(\n  'wallet/connect',\n  () => Service.wallet.connect()\n);\n\nconst walletSlice = createSlice({\n  name: 'wallet',\n  initialState,\n  reducers: {\n    updateAccountNetwork: {\n      reducer(state, action) {\n        const {\n          account, network, isOwner, isApproved, isKittyCreator,\n        } = action.payload;\n\n        if (account) {\n          state.account = account.toLowerCase();\n        }\n        if (network && network.id) {\n          state.network = network;\n        }\n\n        state.isOwner = isOwner || false;\n        state.isApproved = isApproved || false;\n        state.isKittyCreator = isKittyCreator || false;\n      },\n      prepare(account, network, isOwner, isApproved, isKittyCreator) {\n        return {\n          payload: {\n            account,\n            network,\n            isOwner,\n            isApproved,\n            isKittyCreator,\n          },\n        };\n      },\n    },\n    updateOwnerApproved: {\n      reducer(state, action) {\n        const { isOwner, isApproved, isKittyCreator, } = action.payload;\n        state.isOwner = isOwner;\n        state.isApproved = isApproved;\n        state.isKittyCreator = isKittyCreator;\n      },\n      prepare(isOwner, isApproved, isKittyCreator) {\n        return {\n          payload: { isOwner, isApproved, isKittyCreator, },\n        };\n      },\n    },\n    updateIsKittyCreator: (state, action) => {\n      state.isKittyCreator = action.payload;\n    },\n    walletDisconnected: (state) => {\n      state.isConnected = false;\n      state.account = null;\n      state.isOwner = false;\n      state.isApproved = null;\n    },\n    walletError: (state, action) => {\n      state.error = action.payload;\n      console.error('wallet error: ', action.payload);\n    },\n  },\n  extraReducers: {\n    [approveMarket.fulfilled]: (state) => {\n      state.isApproved = true;\n    },\n\n    [connectWallet.fulfilled]: (state, action) => {\n      state.isConnected = true;\n      state.account = action.payload;\n    },\n\n    [fetchWeb3ProviderIsAvailable.fulfilled]: (state, action) => {\n      state.web3ProviderAvailable = action.payload;\n    },\n    [fetchWeb3ProviderIsAvailable.rejected]: (state) => {\n      state.web3ProviderAvailable = false;\n    },\n\n  },\n});\n\n/*\n * Actions\n*/\nexport const {\n  updateAccountNetwork,\n  updateIsKittyCreator,\n  updateOwnerApproved,\n  walletDisconnected,\n  walletError,\n} = walletSlice.actions;\n\n/*\n * Selectors\n*/\nexport const selectIsApproved = (state) => state.wallet.isApproved;\nexport const selectIsWalletConnected = (state) => state.wallet.isConnected;\nexport const selectIsWeb3ProviderAvailable = (state) => state.wallet.web3ProviderAvailable;\n\nexport const selectOnSupportedNetwork = createSelector(\n  (state) => state.wallet,\n  (wallet) => {\n    const isSupported = Boolean(wallet.network)\n      && wallet.supportedNetworks.some(\n        (chainId) => chainId === wallet.network.id\n      );\n    // console.log('selectOnSupportedNetwork::', isSupported, 'wallet:', wallet);\n    return isSupported;\n  }\n);\n\nexport const selectSupportedNetworks = createSelector(\n  [selectAllNetworks, (state) => state.wallet.supportedNetworks],\n  (networks, supported) => networks.filter(\n    (network) => supported.find((s) => s === network.id)\n  )\n);\n\nexport const selectUser = (state) => state.wallet.account;\n\nexport default walletSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport {\n  createAsyncThunk, createEntityAdapter, createSelector, createSlice\n} from '@reduxjs/toolkit';\nimport Service from '../js/service';\n\nconst kittyCreatorAdapter = createEntityAdapter({\n  selectId: (creator) => creator,\n});\n\nexport const fetchAllKittyCreators = createAsyncThunk(\n  'kittyCreators/fetchAll',\n  () => Service.kitty.getAllKittyCreators()\n);\n\nexport const addKittyCreator = createAsyncThunk(\n  'kittyCreators/addKittyCreator',\n  (address) => Service.kitty.addKittyCreator(address)\n);\n\nexport const removeKittyCreator = createAsyncThunk(\n  'kittyCreators/removeKittyCreator',\n  (address) => Service.kitty.removeKittyCreator(address)\n);\n\nconst kittyCreatorSlice = createSlice({\n  name: 'kittyCreators',\n  initialState: kittyCreatorAdapter.getInitialState(),\n  reducers: {\n    kittyCreatorAdded: kittyCreatorAdapter.addOne,\n    kittyCreatorRemoved: kittyCreatorAdapter.removeOne,\n  },\n  extraReducers: {\n    [fetchAllKittyCreators.fulfilled]: kittyCreatorAdapter.setAll,\n\n    [addKittyCreator.fulfilled]: (state, action) => {\n      // remove checksum capitalization for comparison consistancy\n      const toAdd = action.meta.arg.toLowerCase();\n      kittyCreatorAdapter.addOne(state, toAdd);\n    },\n\n    [removeKittyCreator.fulfilled]: (state, action) => {\n      const toRemove = action.meta.arg;\n      kittyCreatorAdapter.removeOne(state, toRemove);\n    },\n  },\n});\n\nexport const {\n  kittyCreatorAdded,\n  kittyCreatorRemoved,\n} = kittyCreatorSlice.actions;\n\nexport const {\n  selectAll: selectAllKittyCreators,\n} = kittyCreatorAdapter.getSelectors((state) => state.kittyCreators);\n\n/**\n * Returns true if the user is a Kitty Creator\n * @param {state} state redux state\n * @param {string} user user account\n * @returns {boolean}\n */\nexport const isUserKittyCreator = createSelector(\n  [selectAllKittyCreators, (_, user) => user],\n  (creators, user) => creators.some((c) => c === user)\n);\n\nexport default kittyCreatorSlice.reducer;\n","import { createAction } from '@reduxjs/toolkit';\nimport { eventChannel } from 'redux-saga';\nimport {\n  take, call, put, all, select, race\n} from 'redux-saga/effects';\n\nimport Service from '../js/service';\nimport {\n  clearKitties, fetchKittiesForIds, getGen0KittyCount, getGen0KittyLimit,\n  getKitties\n} from '../cat/catSlice';\nimport { clearOffers, getOffers } from '../market/offerSlice';\nimport {\n  connectWallet, selectIsWalletConnected, selectOnSupportedNetwork,\n  updateAccountNetwork, updateOwnerApproved, walletError, updateIsKittyCreator,\n  walletDisconnected, selectUser, fetchWeb3ProviderIsAvailable, selectIsWeb3ProviderAvailable,\n} from './walletSlice';\nimport WalletService from '../js/walletService';\nimport {\n  fetchAllKittyCreators, isUserKittyCreator, kittyCreatorAdded,\n  kittyCreatorRemoved,\n} from '../admin/kittyCreatorSlice';\n\n\nexport const connect = createAction('wallet/connect');\nexport const connectSuccess = createAction('wallet/connect/success');\nexport const contractInitSuccess = createAction('wallet/contractInit/success');\nexport const contractInitError = createAction('wallet/contractInit/error');\nexport const web3InitSuccess = createAction('wallet/web3Init/success');\n\n/**\n * Update the isKittyCreator status when the list\n * of Kitty Creators changes\n */\nfunction* watchForKittyCreatorchange() {\n  while (true) {\n    try {\n      yield take([kittyCreatorAdded, kittyCreatorRemoved]);\n\n      const user = yield select(selectUser);\n      const result = yield select(isUserKittyCreator, user);\n      yield put(updateIsKittyCreator(result));\n    } catch (error) {\n      yield put(walletError(error.message));\n    }\n  }\n}\n\n/**\n * Calls Service to initialize the contract instances\n * for the given network. Dispatches a 'wallet/contractInit/error' action\n * if chainId is not a supported network\n * @param {string} chainId the network chain ID (i.e. '0x3' for Ropsten)\n */\nfunction* initContracts(chainId) {\n  try {\n    yield call(Service.initContracts, chainId);\n    yield put(contractInitSuccess());\n  } catch (err) {\n    console.error(err);\n    yield put(contractInitError(err.message));\n  }\n}\n\n/**\n * Fetches all the kitties from the active sell Offers\n */\nfunction* getKittesFromOffers() {\n  const result = yield take(getOffers.fulfilled);\n\n  const kittyIds = Object.values(result.payload)\n    .map((offer) => offer.tokenId);\n\n  yield put(fetchKittiesForIds(kittyIds));\n}\n\n/**\n * Refreshes the application state\n * Called when the connected account or network changes\n */\nfunction* onAccountOrNetworkChange() {\n  // refresh application data\n  yield all([\n    put(getKitties()),\n    put(getOffers()),\n    call(getKittesFromOffers),\n    put(fetchAllKittyCreators()),\n  ]);\n\n  // get updated user state\n  return yield all({\n    isOwner: call(Service.kitty.isUserOwner),\n    isApproved: call(Service.market.isApproved),\n    isKittyCreator: call(Service.kitty.isUserKittyCreator),\n    gen0Count: put(getGen0KittyCount()),\n    gen0Limit: put(getGen0KittyLimit()),\n  });\n}\n\n/**\n * Refreshes the contract instances.\n * Called when the connected network changes.\n * @param {string} chainId network chain ID (i.e. '0x3' for Ropsten)\n */\nfunction* onNetworkChange(chainId) {\n  const isConnected = yield select(selectIsWalletConnected);\n  const isSupportedNetwork = yield select(selectOnSupportedNetwork);\n  // console.log('onNetworkChange:: isSupportedNetwork', isSupportedNetwork);\n\n  if (isConnected && isSupportedNetwork) {\n    // refresh contracts\n    yield call(initContracts, chainId);\n\n    // refresh application state\n    const { isOwner, isApproved, isKittyCreator, } = yield call(onAccountOrNetworkChange);\n    yield put(updateOwnerApproved(isOwner, isApproved, isKittyCreator));\n  } else {\n    // unsupported network: reset application state\n    yield all([\n      put(contractInitError('Wallet not connected or unsupported network')),\n      put(clearKitties()),\n      put(clearOffers()),\n    ]);\n  }\n}\n\n/**\n * Calls Service to connect the app to the user's wallet.\n * Dispatches 'wallet/connectSuccss' on success then\n * intitializes the application state.\n */\nfunction* onConnectWallet() {\n  while (true) {\n    try {\n      yield take(connect);\n\n      const providerAvailable = yield select(selectIsWeb3ProviderAvailable);\n      if (!providerAvailable) {\n        // cannot connect wallet if no web 3 provider\n        yield put(walletError('No web 3 provider. Intstall Metamask'));\n\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      // update connected account and network\n      yield put(connectWallet());\n\n      const result = yield race({\n        fulfilled: take(connectWallet.fulfilled),\n        error: take(connectWallet.rejected),\n      });\n\n      const network = yield call(Service.wallet.getNetwork);\n      yield put(updateAccountNetwork(null, network));\n\n      // init application state\n      if (result.fulfilled) {\n        yield put(connectSuccess());\n        yield call(onNetworkChange, network.id);\n      }\n    } catch (err) {\n      yield put(walletError(err));\n    }\n  }\n}\n\nfunction* onWalletDisconnected() {\n  yield all([\n    put(walletDisconnected()),\n    put(clearKitties()),\n    put(clearOffers()),\n  ]);\n}\n\n/**\n * Creates ReduxSaga channel to listen for\n * changes to the connected wallet account\n */\nfunction createAccountChangedChannel() {\n  return eventChannel((emitter) => {\n    const emitAccount = (accounts) => {\n      // console.log('createAccountChangedChannel::event emitted', accounts);\n      const account = accounts.length\n        ? accounts[0].toLowerCase()\n        : '';\n      emitter(account);\n    };\n\n    window.ethereum.on('accountsChanged', emitAccount);\n\n    return () => window.ethereum\n      .off('accountsChanged', emitAccount);\n  });\n}\n\n/**\n * Listens for account change actions from the channel and\n * refreshes the application state\n */\nfunction* watchForAccountChange() {\n  // can only watch for account change if web3 provider available\n  yield take(web3InitSuccess);\n\n  const chanAccountChanged = yield call(createAccountChangedChannel);\n\n  while (true) {\n    try {\n      const account = yield take(chanAccountChanged);\n\n      const isConnected = yield select(selectIsWalletConnected);\n      if (!isConnected) {\n        // don't update anything if wallet not connected yet\n        // otherwise will make contract calls before they\n        // are initialized\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (account) {\n        const {\n          isOwner, isApproved, isKittyCreator,\n        } = yield call(onAccountOrNetworkChange);\n\n        yield put(updateAccountNetwork(\n          account, null, isOwner, isApproved, isKittyCreator\n        ));\n      } else {\n        // when the new account is empty the wallet was locked by the user\n        yield call(onWalletDisconnected);\n      }\n    } catch (error) {\n      yield put(walletError(error));\n    }\n  }\n}\n\n/**\n * Creates a ReduxSaga channel to listen for\n * changes to the connected wallet network (i.e Ropsten)\n */\nfunction createNetworkChangedChannel() {\n  return eventChannel((emitter) => {\n    const emitNetwork = (chainId) => {\n      // console.log('chainChanged:', chainId);\n      const network = WalletService.getNetworkFromHex(chainId);\n      emitter(network);\n    };\n\n    window.ethereum.on('chainChanged', emitNetwork);\n\n    return () => window.ethereum\n      .off('chainChanged', emitNetwork);\n  });\n}\n\n/**\n * Listens for actions from the network change channel\n * and refreshes the application state\n */\nfunction* watchForNetworkChange() {\n  // can only watch for network change if web3 provider available\n  yield take(web3InitSuccess);\n\n  const chanNetworkChanged = yield call(createNetworkChangedChannel);\n\n  while (true) {\n    try {\n      const network = yield take(chanNetworkChanged);\n\n      yield put(updateAccountNetwork(null, network, null, null));\n\n      yield call(onNetworkChange, network.id);\n    } catch (error) {\n      yield put(walletError(error));\n    }\n  }\n}\n\nfunction* detectWeb3Provider() {\n  try {\n    yield put((fetchWeb3ProviderIsAvailable()));\n    const resultAction = yield take([\n      fetchWeb3ProviderIsAvailable.fulfilled,\n      fetchWeb3ProviderIsAvailable.rejected,\n    ]);\n\n    if (fetchWeb3ProviderIsAvailable.fulfilled.match(resultAction)\n      && resultAction.payload\n    ) {\n      Service.initServices();\n      yield put(web3InitSuccess());\n    } else {\n      yield put(walletError('No web 3 provider. Please install Metamask'));\n    }\n  } catch (error) {\n    console.error(error);\n    yield put(walletError(error.message));\n  }\n}\n\n\nexport function* walletSaga() {\n  yield all([\n    detectWeb3Provider(),\n    watchForNetworkChange(),\n    watchForAccountChange(),\n    watchForKittyCreatorchange(),\n    onConnectWallet(),\n  ]);\n}\n","import React from 'react';\nimport { Badge, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { connect } from './walletSaga';\nimport { selectOnSupportedNetwork } from './walletSlice';\n\nexport default function Wallet() {\n  const dispatch = useDispatch();\n  const {\n    account, network, isApproved, isConnected, web3ProviderAvailable,\n  } = useSelector((state) => state.wallet);\n  const isSupportedNetwork = useSelector(selectOnSupportedNetwork);\n\n  const checkMark = isApproved\n    ? <span aria-label=\"approved\" className=\"ml-1\">🗸</span>\n    : null;\n\n  let content;\n  if (isConnected && account && network) {\n    content = (\n      <h6>\n        <Badge className=\"m-2\" variant={isSupportedNetwork ? 'secondary' : 'danger'}>\n          {account.substring(0, 4)}\n          ...\n          {account.substring(account.length - 4)}\n          {checkMark}\n          <br />\n          {network.name}\n        </Badge>\n      </h6>\n    );\n  } else if (web3ProviderAvailable) {\n    content = (\n      <Button onClick={() => dispatch(connect())}>\n        Connect\n      </Button>\n    );\n  }\n\n  return (\n    <div>{content}</div>\n  );\n}\n","import React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Wallet from './wallet/Wallet';\nimport { selectOnSupportedNetwork } from './wallet/walletSlice';\n\nexport default function AppHeader() {\n  const onSupportedNetwork = useSelector(selectOnSupportedNetwork);\n  const account = useSelector((state) => state.wallet.account);\n  const isOwner = useSelector((state) => state.wallet.isOwner);\n  const isKittyCreator = useSelector((state) => state.wallet.isKittyCreator);\n\n  // only show nav links if there is a connected account\n  const links = account && onSupportedNetwork\n    ? (\n      <>\n        <NavLink to=\"/kitties\" className=\"btn nav-link\">My Kitties</NavLink>\n        <NavLink to=\"/breed\" className=\"btn nav-link\">Breed</NavLink>\n        <NavLink to=\"/market\" className=\"btn nav-link\">Marketplace</NavLink>\n      </>\n    )\n    : null;\n\n  // only Kitty Creators can create gen zero kitties\n  const factory = isKittyCreator\n    ? <NavLink to=\"/factory\" className=\"btn nav-link\">Factory</NavLink>\n    : null;\n\n  const admin = isOwner\n    ? <NavLink to=\"/admin\" className=\"btn nav-link\">Admin</NavLink>\n    : null;\n\n  return (\n    <Nav variant=\"pills\" className=\"mb-2\">\n      <NavLink to=\"/\" className=\"navbar-brand btn\">\n        <img\n          src=\"logo192.png\"\n          alt=\"React\"\n          width=\"30\"\n          height=\"30\"\n        />\n        Academy Kitties\n      </NavLink>\n      {links}\n      {factory}\n      {admin}\n      <Wallet />\n    </Nav>\n  );\n}\n","import React from 'react';\n\nexport default function AppFooter() {\n  return (\n    <footer align=\"left\" className=\"mt-4\">\n      <p>Ivan on Tech Academy Bootcamp 2020</p>\n    </footer>\n  );\n}\n","\nexport default class Cattribute {\n  static NAMES = {\n    eyeShape: 'eyeShape',\n    decorationPattern: 'decorationPattern',\n    decorationSidescolor: 'decorationSidescolor',\n    animation: 'animation',\n    lastNum: 'lastNum',\n  };\n\n  static TYPES = {\n    basic: 'basic',\n    cattribute: 'cattribute',\n  };\n\n  constructor(props) {\n    this.name = props.name;\n    this.valueNames = props.valueNames || {};\n    this.displayName = props.displayName;\n    this.minValue = props.minValue;\n    this.maxValue = props.maxValue;\n    this.digits = props.digits;\n    this.defaultValue = props.defaultValue;\n    this.value = props.value || props.defaultValue;\n    this.type = props.type || 'cattribute';\n  }\n\n  get strValue() {\n    return String(this.value).padStart(this.digits, '0');\n  }\n\n  get valueName() {\n    const val = this.strValue;\n    return this.valueNames[val] || val;\n  }\n}\n","import Cattribute from './Cattribute';\nimport { colorObj } from './colors';\n\n\nexport default class ColorCattribute extends Cattribute {\n  static NAMES = {\n    bodyColor: 'bodyColor',\n    accentColor: 'accentColor',\n    eyeColor: 'eyeColor',\n    earColor: 'earColor',\n    decorationMidcolor: 'decorationMidcolor',\n    decorationSidescolor: 'decorationSidescolor',\n  };\n\n  constructor(props) {\n    super({\n      defaultValue: 10,\n      minValue: 10,\n      maxValue: 99,\n      digits: 2,\n      ...props,\n    });\n  }\n\n  // returns the hex color value\n  getCssColor() {\n    return colorObj[this.value].color;\n  }\n\n  get valueName() {\n    return colorObj[this.value].name;\n  }\n}\n","import Cattribute from './Cattribute';\nimport ColorCattribute from './ColorCattribute';\n\nexport default class KittyDNA {\n  // academy template project DNA structure\n  // var defaultDNA = {\n  //     \"bodyColor\": 10,\n  //     \"accentColor\": 13,\n  //     \"eyeColor\": 91,\n  //     \"earColor\": 42,\n  //     //Cattributes\n  //     \"eyeShape\": 7,\n  //     \"decorationPattern\": 1,\n  //     \"decorationMidcolor\": 13,\n  //     \"decorationSidescolor\": 13,\n  //     \"animation\": 1,\n  //     \"lastNum\": 1\n  // }\n\n  cattributes = [\n    new ColorCattribute({\n      name: ColorCattribute.NAMES.bodyColor, displayName: 'Body Color', type: Cattribute.TYPES.basic, defaultValue: 10,\n    }),\n    new ColorCattribute({\n      name: ColorCattribute.NAMES.accentColor, displayName: 'Accent Color', type: Cattribute.TYPES.basic, defaultValue: 13,\n    }),\n    new ColorCattribute({\n      name: ColorCattribute.NAMES.eyeColor, displayName: 'Eye Color', type: Cattribute.TYPES.basic, defaultValue: 93,\n    }),\n    new ColorCattribute({\n      name: ColorCattribute.NAMES.earColor, displayName: 'Ear Color', type: Cattribute.TYPES.basic, defaultValue: 42,\n    }),\n\n    new Cattribute({\n      name: Cattribute.NAMES.eyeShape,\n      displayName: 'Eye Shape',\n      minValue: 1,\n      maxValue: 7,\n      digits: 1,\n      defaultValue: 2,\n      valueNames: {\n        1: 'Basic', 2: 'Down', 3: 'Right', 4: 'Left', 5: 'Angry', 6: 'Suprised', 7: 'Sleepy',\n      },\n    }),\n    new Cattribute({\n      name: Cattribute.NAMES.decorationPattern,\n      displayName: 'Pattern',\n      minValue: 0,\n      maxValue: 3,\n      digits: 1,\n      defaultValue: 2,\n      valueNames: {\n        0: 'None', 1: 'Pin Stripes', 2: 'Triangle Stripes', 3: 'Spots',\n      },\n    }),\n    new ColorCattribute({ name: ColorCattribute.NAMES.decorationMidcolor, displayName: 'Pattern Color', defaultValue: 42, }),\n    new ColorCattribute({ name: ColorCattribute.NAMES.decorationSidescolor, displayName: 'Pattern Accent Color', defaultValue: 13, }),\n    new Cattribute({\n      name: Cattribute.NAMES.animation,\n      displayName: 'Animation',\n      minValue: 0,\n      maxValue: 4,\n      digits: 1,\n      defaultValue: 4,\n      valueNames: {\n        0: 'None', 1: 'Head Back-And-Forth', 2: 'Tail Back-And-Forth', 3: 'Head Bob', 4: 'Rockin Out',\n      },\n    }),\n    new Cattribute({\n      name: Cattribute.NAMES.lastNum, displayName: 'Mysterious', minValue: 0, maxValue: 7, digits: 1, defaultValue: 1,\n    }),\n  ];\n\n  constructor(dna) {\n    this.dna = dna;\n  }\n\n  get dna() {\n    return this.cattributes\n      .map((cattribute) => cattribute.strValue)\n      .join('');\n  }\n\n  set dna(_dna) {\n    if (!_dna) {\n      return;\n    }\n\n    // slice off each cattribute from the DNA\n    let i = 0;\n    this.cattributes.forEach((cattribute) => {\n      const value = _dna.substr(i, cattribute.digits);\n      // eslint-disable-next-line no-param-reassign\n      cattribute.value = +value;\n      i += cattribute.digits;\n    });\n  }\n\n  getCattribute(name) {\n    return this.cattributes.find((c) => c.name === name);\n  }\n\n  getCattributeValue(name) {\n    const cattribute = this.getCattribute(name);\n    if (cattribute) {\n      return cattribute.value;\n    }\n    console.error(`Unkown cattribute \"${name}\"`);\n    return undefined;\n  }\n\n  setCattributeValue(name, value) {\n    const cattribute = this.getCattribute(name);\n    if (cattribute) {\n      cattribute.value = value;\n      return;\n    }\n\n    console.error(`Unkown cattribute \"${name}\"`);\n  }\n\n  clone() {\n    const { dna, } = this;\n    return new KittyDNA(dna);\n  }\n}\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable max-classes-per-file */\nimport KittyDNA from './dna';\nimport ColorCattribute from './ColorCattribute';\nimport Cattribute from './Cattribute';\n\nexport class CatPart {\n  constructor(props) {\n    this.name = props.name || 'catPart';\n    this.childParts = props.childParts || [];\n    this.dna = props.dna;\n    this.colorCattributeName = props.colorCattributeName;\n\n    // css properties\n    this.styles = props.styles || {};\n    this.styles.backgroundColor = this.color;\n  }\n\n  get color() {\n    if (this.colorCattributeName) {\n      const cattribute = this.dna.getCattribute(this.colorCattributeName);\n      return cattribute.getCssColor();\n    }\n    return null;\n  }\n\n  set color(num) {\n    if (this.colorCattributeName) {\n      const cattribute = this.dna.getCattribute(this.colorCattributeName);\n      cattribute.value = num;\n      return;\n    }\n    console.error(`CatPart ${this.name} does not have a colorCattributeName!`);\n  }\n\n  /*\n   Effects\n  */\n  addSpots() {\n    const color1 = this.dna\n      .getCattribute(ColorCattribute.NAMES.decorationMidcolor)\n      .getCssColor();\n    const color2 = this.dna\n      .getCattribute(ColorCattribute.NAMES.decorationSidescolor)\n      .getCssColor();\n\n    this.styles.backgroundImage = `radial-gradient(${color1} 10%, transparent 25%),\n        radial-gradient(${color2} 10%, transparent 20%)`;\n    this.styles.backgroundPosition = '0 0, 25px 15px';\n    this.styles.backgroundSize = '40px 50px';\n  }\n}\n\nexport class CatInnerEarPart extends CatPart {\n  constructor(props) {\n    super({\n      dna: props.dna,\n      name: 'innerEarLeft',\n      colorCattributeName: ColorCattribute.NAMES.earColor,\n      styles: {\n        borderRadius: '90% 0 90% 0',\n        height: '100px',\n        width: '100px',\n        position: 'relative',\n        top: '-10px',\n        left: '10px',\n      },\n      childParts: [],\n    });\n\n    this.type = props.type;\n    if (props.type === 'right') {\n      this.name = 'innerEarRight';\n      this.styles.top = '10px';\n      this.styles.left = '-10px';\n    }\n  }\n}\n\nexport class CatEarPart extends CatPart {\n  constructor(props) {\n    super({\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.bodyColor,\n      styles: {\n        name: 'earRight',\n        borderRadius: '90% 0 90% 0',\n        height: '100px',\n        width: '100px',\n        position: 'absolute',\n        left: '140px',\n      },\n      childParts: [\n        new CatInnerEarPart({ type: props.type, dna: props.dna, }),\n      ],\n    });\n    this.type = props.type;\n\n    if (props.type === 'left') {\n      this.name = 'earLeft';\n      this.styles.left = '25px';\n      this.styles.transform = 'scale(1, -1)';\n    }\n  }\n}\n\nexport class CatEars extends CatPart {\n  constructor(props) {\n    super({\n      dna: props.dna,\n      name: 'ears',\n      childParts: [\n        new CatEarPart({ type: 'left', dna: props.dna, }),\n        new CatEarPart({ type: 'right', dna: props.dna, }),\n      ],\n    });\n  }\n}\n\nexport class CatPupilPart extends CatPart {\n  constructor(props) {\n    super({\n      name: `pupil${props.type}`,\n      dna: props.dna,\n      styles: {\n        width: '24px',\n        height: '27px',\n        borderRadius: '30% 60% 30% 60%',\n        transform: 'rotate(32deg)',\n        position: 'absolute',\n        top: '6px',\n        left: '11px',\n      },\n      childParts: [],\n    });\n    this.type = props.type;\n    this.setPupilPosition();\n  }\n\n  get color() {\n    return '#4e4d4d'; // black\n  }\n\n  setPupilPosition() {\n    const eyeShape = this.dna\n      .getCattribute(Cattribute.NAMES.eyeShape)\n      .value;\n    switch (eyeShape) {\n      case 4:\n        this.styles.left = '7px';\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\nexport class CatEyePart extends CatPart {\n  constructor(props) {\n    super({\n      name: `catEye${props.type}`,\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.eyeColor,\n      styles: {\n        borderRadius: '50%',\n        width: '50px',\n        height: '42px',\n        margin: '16px',\n        position: 'relative',\n        borderTop: '2px solid #4e4d4d',\n        borderLeft: '2px solid #4e4d4d',\n        borderRight: '2px solid #4e4d4d',\n        borderBottom: '2px solid #4e4d4d',\n      },\n      childParts: [\n        new CatPupilPart({ dna: props.dna, type: props.type, })\n      ],\n    });\n    this.type = props.type;\n    this.setEyeShape();\n  }\n\n  setEyeShape() {\n    const eyeShapeNum = this.dna.getCattribute(Cattribute.NAMES.eyeShape).value;\n    switch (eyeShapeNum) {\n      // Look Down\n      case 2:\n        this.styles.borderTop = '7px solid';\n        break;\n\n      // Look Right\n      case 3:\n        this.styles.borderLeft = '6px solid #4e4d4d';\n        break;\n\n      // Look Left\n      case 4:\n        this.styles.borderRight = '6px solid #4e4d4d';\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\nexport class CatEyeLidPart extends CatPart {\n  constructor(props) {\n    super({\n      name: `catEyeLids${props.type}`,\n      dna: props.dna,\n      styles: {\n        borderRadius: '50%',\n        width: '50px',\n        height: '42px',\n        margin: '16px',\n        position: 'absolute',\n        zIndex: 2,\n      },\n      childParts: [],\n    });\n    this.type = props.type;\n\n    if (props.type === 'right') {\n      this.styles.left = '82px';\n    }\n\n    const bodyCattribute = this.dna.getCattribute(ColorCattribute.NAMES.bodyColor);\n    this.EyeLidColor = bodyCattribute.getCssColor();\n\n    this.setLidPosition();\n    // this.setAnimation();\n  }\n\n  get color() {\n    return 'transparent';\n  }\n\n  setLidPosition() {\n    const shapeCattribute = this.dna.getCattribute(Cattribute.NAMES.eyeShape);\n    const pos = {};\n    switch (shapeCattribute.value) {\n      // Down\n      case 2:\n        pos.top = 12;\n        pos.bottom = 4;\n        break;\n\n      // Angry\n      case 5:\n        pos.top = 21;\n        pos.bottom = 4;\n        break;\n\n      // Suprised\n      case 6:\n        pos.top = 0;\n        pos.bottom = 0;\n        break;\n\n      // Sleepy\n      case 7:\n        pos.top = 28;\n        pos.bottom = 7;\n        break;\n\n      default:\n        pos.top = 4;\n        pos.bottom = 4;\n        break;\n    }\n    // this.styles.borderColor = this.EyeLidColor;\n    // this.styles.borderStyle = 'solid';\n    this.styles.borderTop = `${pos.top}px ${this.EyeLidColor} solid`;\n    this.styles.borderBottom = `${pos.bottom}px ${this.EyeLidColor} solid`;\n  }\n\n  setAnimation() {\n    const animationType = this.dna\n      .getCattribute(Cattribute.NAMES.animation)\n      .value;\n    switch (animationType) {\n      // need to figure out how to do dynamically set\n      // this lid color in the keyframe\n      // case 3:\n      //     this.animation = 'sleepyEyeLids 10s linear infinite';\n      //     break;\n\n      default:\n        break;\n    }\n  }\n}\n\nexport class CatEyes extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catEyes',\n      dna: props.dna,\n      styles: {\n        position: 'relative',\n        top: '39px',\n        left: '20px',\n        display: 'flex',\n      },\n      childParts: [\n        new CatEyePart({ dna: props.dna, type: 'left', }),\n        new CatEyePart({ dna: props.dna, type: 'right', }),\n        new CatEyeLidPart({ dna: props.dna, type: 'left', }),\n        new CatEyeLidPart({ dna: props.dna, type: 'right', }),\n      ],\n    });\n  }\n}\n\nexport class CatMouthPart extends CatPart {\n  constructor(props) {\n    super({\n      name: `catMouth${props.type}`,\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.accentColor,\n      styles: {\n        position: 'absolute',\n        backgroundColor: 'white',\n        width: '50px',\n        height: '50px',\n        top: '2px',\n        left: '2px',\n        borderRadius: '50% 60% 50% 50%',\n        borderBottom: '5px solid lightgray',\n      },\n      childParts: [],\n    });\n    this.type = props.type;\n\n    if (props.type === 'right') {\n      this.styles.borderRadius = '60% 50% 50% 50%';\n      this.styles.left = '51px';\n    } else if (props.type === 'bottom') {\n      this.styles.borderRadius = '40% 0 90% 0';\n      this.styles.left = '37px';\n      this.styles.top = '37px';\n      this.styles.borderLeft = '2px solid lightgray';\n      this.styles.borderTop = '2px solid lightgray';\n      this.styles.borderBottom = '5px solid lightgray';\n      this.styles.borderRight = '5px solid lightgray';\n      this.styles.transform = 'rotate(45deg)';\n      this.styles.width = '30px';\n      this.styles.height = '30px';\n    }\n  }\n}\n\nexport class CatNosePart extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catNose',\n      dna: props.dna,\n      styles: {\n        position: 'absolute',\n        width: '25px',\n        height: '25px',\n        borderRadius: '40% 0 90% 0',\n        transform: 'rotate(-136deg)',\n        left: '39px',\n        top: '-12px',\n      },\n      childParts: [],\n    });\n  }\n\n  get color() {\n    return 'pink';\n  }\n}\n\nexport class CatMuzzlePart extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catMuzzle',\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.accentColor,\n      styles: {\n        position: 'relative',\n        top: '19px',\n        left: '50px',\n        width: '100px',\n        height: '50px',\n        borderRadius: '40%',\n      },\n      childParts: [\n        new CatNosePart({ dna: props.dna, }),\n        new CatMouthPart({ dna: props.dna, type: 'left', }),\n        new CatMouthPart({ dna: props.dna, type: 'right', }),\n        new CatMouthPart({ dna: props.dna, type: 'bottom', }),\n      ],\n    });\n  }\n}\n\nexport class CatHeadPart extends CatPart {\n  constructor(props) {\n    super({\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.bodyColor,\n      styles: {\n        name: 'head',\n        position: 'relative',\n        width: '190px',\n        height: '190px',\n        left: '40px',\n        borderRadius: '45%',\n        borderBottom: '2px solid lightgray',\n        zIndex: 'auto',\n      },\n      childParts: [\n        new CatEyes({ dna: props.dna, }),\n        new CatMuzzlePart({ dna: props.dna, }),\n      ],\n    });\n  }\n}\n\nexport class CatHeadContainer extends CatPart {\n  constructor(props) {\n    super({\n      dna: props.dna,\n      name: 'headContainer',\n      styles: {\n        position: 'relative',\n        zIndex: 2,\n      },\n      childParts: [\n        new CatEars({ dna: props.dna, }),\n        new CatHeadPart({ dna: props.dna, }),\n      ],\n    });\n    this.setAnimation();\n  }\n\n  setAnimation() {\n    const animationType = this.dna\n      .getCattribute(Cattribute.NAMES.animation)\n      .value;\n    switch (animationType) {\n      case 1:\n        this.styles.animation = 'headBackAndForth 5s linear infinite';\n        break;\n      case 3:\n      case 4:\n        this.styles.animation = 'headBob 1s linear infinite';\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport class CatStripe extends CatPart {\n  constructor(props) {\n    super({\n      name: `catStripe${props.type}${props.angle || ''}`,\n      dna: props.dna,\n      colorCattributeName: props.colorType === 1\n        ? ColorCattribute.NAMES.decorationMidcolor\n        : ColorCattribute.NAMES.decorationSidescolor,\n      styles: {\n        position: 'relative',\n        width: '0',\n        height: '0',\n        borderRadius: '28%',\n        left: `${props.left || 0}px`,\n        top: `${props.top || 0}px`,\n      },\n      childParts: [],\n    });\n\n    const height = `40px solid ${this.color}`;\n\n    if (props.type === 'left') {\n      this.styles.borderLeft = height;\n    } else {\n      this.styles.borderRight = height;\n    }\n    const bodyColor = this.dna.getCattribute(ColorCattribute.NAMES.bodyColor).getCssColor();\n    this.styles.borderTop = `20px solid ${bodyColor}`;\n    this.styles.borderBottom = `20px solid ${bodyColor}`;\n    this.styles.transform = `rotate(${props.angle}deg)`;\n  }\n}\n\nexport class CatBellyPart extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catBelly',\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.accentColor,\n      styles: {\n        position: 'relative',\n        top: '120px',\n        left: '65px',\n        width: '130px',\n        height: '160px',\n        zIndex: 2,\n        borderRadius: '50% 50% 50% 50% / 60% 60% 40% 40%',\n        border: '2px solid lightgray',\n        borderBottom: '3px solid lightgray',\n      },\n      childParts: [],\n    });\n  }\n}\n\nexport class CatFootPart extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catFoot',\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.accentColor,\n      styles: {\n        position: 'relative',\n        borderBottom: '5px solid lightgray',\n        borderTop: '2px solid lightgray',\n        width: '75px',\n        height: '40px',\n        top: '105px',\n        left: '-17px',\n        borderRadius: '50%',\n      },\n      childParts: [],\n    });\n    this.type = props.type;\n  }\n}\n\nexport class CatLegPart extends CatPart {\n  constructor(props) {\n    super({\n      name: `catLeg${props.type}`,\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.bodyColor,\n      styles: {\n        position: 'absolute',\n        width: '50px',\n        height: '120px',\n        left: '41px',\n        top: '140px',\n        zIndex: 3,\n        borderLeft: '2px solid lightgray',\n        borderRight: '2px solid lightgray',\n        borderBottom: '2px solid lightgray',\n      },\n      childParts: [\n        new CatFootPart({ dna: props.dna, type: props.type, }),\n      ],\n    });\n    this.type = props.type;\n\n    if (props.type === 'right') {\n      this.styles.left = '167px';\n    }\n\n    this.setDecorationPattern();\n  }\n\n  setDecorationPattern() {\n    const patternNum = this.dna\n      .getCattribute(Cattribute.NAMES.decorationPattern)\n      .value;\n    const decorationColor = this.dna\n      .getCattribute(ColorCattribute.NAMES.decorationMidcolor).getCssColor();\n\n    switch (patternNum) {\n      // Pin Stripes\n      case 1:\n        this.styles.backgroundImage = `repeating-linear-gradient(\n          to bottom,\n          ${this.color},\n          ${this.color} 15px,\n          ${decorationColor} 10px,\n          ${decorationColor} 20px)`;\n        break;\n\n      // Spots\n      case 3:\n        this.addSpots();\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\nexport class CatTailPart extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catTail',\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.bodyColor,\n      styles: {\n        position: 'absolute',\n        width: '35px',\n        height: '100px',\n        top: '73px',\n        left: '250px',\n        zIndex: 0,\n        transform: 'rotate(72deg)',\n        borderRadius: '50%',\n        border: '2px solid lightgray',\n      },\n      childParts: [],\n    });\n    this.setAnimation();\n  }\n\n  setAnimation() {\n    const animationType = this.dna\n      .getCattribute(Cattribute.NAMES.animation)\n      .value;\n    switch (animationType) {\n      case 2:\n      case 4:\n        this.styles.animation = 'tailbackAndForth 5s linear infinite';\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport class CatBodyPart extends CatPart {\n  constructor(props) {\n    super({\n      name: 'catBody',\n      dna: props.dna,\n      colorCattributeName: ColorCattribute.NAMES.bodyColor,\n      styles: {\n        position: 'relative',\n        top: '-80px',\n        left: '10px',\n        width: '255px',\n        height: '280px',\n        zIndex: 1,\n        borderRadius: '50% 50% 50% 50% / 60% 60% 40% 40%',\n        border: '2px solid lightgray',\n        borderBottom: '3px solid lightgray',\n      },\n      childParts: [\n        new CatBellyPart({ dna: props.dna, }),\n        new CatLegPart({ dna: props.dna, type: 'left', }),\n        new CatLegPart({ dna: props.dna, type: 'right', }),\n      ],\n    });\n    this.setDecorationPattern();\n  }\n\n  setDecorationPattern() {\n    const patternNum = this.dna\n      .getCattribute(Cattribute.NAMES.decorationPattern)\n      .value;\n    const decorationColor = this.dna\n      .getCattribute(ColorCattribute.NAMES.decorationMidcolor).getCssColor();\n\n    switch (patternNum) {\n      // Pin Stripes\n      case 1:\n        this.styles.backgroundImage = `repeating-linear-gradient(\n                    to bottom,\n                    ${this.color},\n                    ${this.color} 15px,\n                    ${decorationColor} 10px,\n                    ${decorationColor} 20px)`;\n        break;\n\n      // Triangle Stripes\n      case 2:\n        this.addTriangleStripes();\n        break;\n\n      // spots\n      case 3:\n        this.addSpots();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  addTriangleStripes() {\n    const stripes = [\n      new CatStripe({\n        dna: this.dna, type: 'left', angle: 28, top: -100, left: 20, colorType: 1,\n      }),\n      new CatStripe({\n        dna: this.dna, type: 'left', angle: 8, top: -86, left: 2, colorType: 2,\n      }),\n      new CatStripe({\n        dna: this.dna, type: 'left', angle: -19, top: -71, left: 3, colorType: 1,\n      }),\n      new CatStripe({\n        dna: this.dna, type: 'right', angle: -24, top: -217, left: 194, colorType: 2,\n      }),\n      new CatStripe({\n        dna: this.dna, type: 'right', angle: -4, top: -198, left: 211, colorType: 1,\n      }),\n      new CatStripe({\n        dna: this.dna, type: 'right', angle: 31, top: -183, left: 204, colorType: 2,\n      }),\n    ];\n    this.childParts = this.childParts.concat(stripes);\n  }\n}\n\nexport class CatBodyContainer extends CatPart {\n  constructor(props) {\n    super({\n      name: 'bodyContainer',\n      dna: props.dna,\n      styles: {\n        position: 'relative',\n        height: '225px',\n        zIndex: 1,\n      },\n      childParts: [\n        new CatBodyPart({ dna: props.dna, }),\n        new CatTailPart({ dna: props.dna, }),\n      ],\n    });\n  }\n}\n\nexport class CatModel {\n  constructor(cat = {}) {\n    this.cat = cat;\n    this.dna = new KittyDNA(cat.genes);\n    this.parts = [];\n\n    // console.log('CatModel::ctor: dna: ', this.dna.dna);\n    this.buildCat();\n  }\n\n  buildCat() {\n    this.parts = [\n      new CatHeadContainer({ dna: this.dna, }),\n      new CatBodyContainer({ dna: this.dna, }),\n    ];\n  }\n\n  clone() {\n    return new CatModel({ genes: this.dna.dna, });\n  }\n\n  mewtate(cattributeName, value) {\n    const newDna = this.dna.clone();\n    newDna.setCattributeValue(cattributeName, value);\n    return new CatModel({ genes: newDna.dna, });\n  }\n\n  static getRandom() {\n    const random = new KittyDNA();\n    random.cattributes.forEach((cattribute) => {\n      const newVal = Math.floor(\n        (Math.random() * (cattribute.maxValue - cattribute.minValue))\n      ) + cattribute.minValue;\n\n      // eslint-disable-next-line no-param-reassign\n      cattribute.value = newVal;\n    });\n    return new CatModel({ genes: random.dna, });\n  }\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { colorObj } from '../js/colors';\n\nconst ColorWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  height: 0.5rem;\n  padding-left: 0.225rem;\n  padding-right: 0.225rem\n`;\n\nconst ColorSection = styled.div`\n  flex: 1 1 auto;\n`;\n\nexport default function CatColorBar({ show, }) {\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <ColorWrapper>\n      {Object.values(colorObj).map((obj) => (\n        <ColorSection key={obj.name} style={{ backgroundColor: obj.color, }} />\n      ))}\n    </ColorWrapper>\n  );\n}\n\nCatColorBar.propTypes = {\n  show: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Badge, Col } from 'react-bootstrap';\nimport styled from 'styled-components';\n\nimport '../css/mystyle.css';\nimport KittyDNA from '../js/dna';\nimport CatColorBar from './CatColorBar';\nimport ColorCattribute from '../js/ColorCattribute';\n\nconst Cattributes = styled(Col)`\n  padding: 25px;\n  background-color: #ededed;\n  border-radius: 10px;\n`;\n\nexport default function CatSettings({ dna, type, handleDnaChange, }) {\n  return (\n    <Cattributes className=\"m-2 light-b-shadow\">\n      <div id=\"catColors\">\n        {\n          dna.cattributes\n            .filter((cattribute) => cattribute.type === type)\n            .map((cattribute) => (\n              <div className=\"form-group\" key={cattribute.name}>\n                <label htmlFor=\"formControlRange\">\n                  <b>{cattribute.displayName}</b>\n                  <Badge variant=\"dark\" className=\"ml-2\" id=\"headcode\">\n                    {cattribute.valueName}\n                  </Badge>\n                </label>\n                <CatColorBar show={cattribute instanceof ColorCattribute} />\n                <input\n                  type=\"range\"\n                  className=\"form-control-range\"\n                  id={cattribute.name}\n                  min={cattribute.minValue}\n                  max={cattribute.maxValue}\n                  onChange={handleDnaChange}\n                  defaultValue={cattribute.value}\n                />\n              </div>\n            ))\n        }\n      </div>\n    </Cattributes>\n  );\n}\n\nCatSettings.propTypes = {\n  dna: PropTypes.instanceOf(KittyDNA).isRequired,\n  type: PropTypes.string.isRequired,\n  handleDnaChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/cats.css';\nimport { CatPart } from '../js/catFactory';\n\n\nexport default function CatPartComp({ parts, }) {\n  if (!parts) {\n    return null;\n  }\n  const catParts = parts.length\n    ? parts : [parts];\n\n  return (\n    catParts.map((part) => {\n      const childCatParts = (part.childParts || []).map((child) => (\n        <CatPartComp key={`comp-${child.name}`} parts={child} />\n      ));\n\n      return (\n        <div\n          key={part.name}\n          className={part.name}\n          style={part.styles}\n        >\n          {childCatParts}\n        </div>\n      );\n    })\n  );\n}\n\nCatPartComp.propTypes = {\n  parts: PropTypes.oneOfType([\n    PropTypes.instanceOf(CatPart),\n    PropTypes.arrayOf(PropTypes.instanceOf(CatPart))\n  ]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport CatPartComp from './CatPartComp';\nimport { CatModel } from '../js/catFactory';\n\n\nconst Div = styled.div`\n    background-color: ${(props) => `#${props.color}`};\n`;\n\nexport default function Cat({ model, }) {\n  return (\n    <Div className=\"cat\">\n      <CatPartComp parts={model.parts} />\n    </Div>\n  );\n}\n\n\nCat.propTypes = {\n  model: PropTypes.instanceOf(CatModel).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport KittyDNA from '../js/dna';\n\nconst Span = styled.span`\n    margin-left: 0.25rem;\n`;\n\nexport default function DnaViewer({ dna, }) {\n  return (\n    <div id=\"catDNA\">\n      <b>\n        DNA:\n        {\n          dna.cattributes.map((cattribute) => (\n            <Span key={cattribute.name}>{cattribute.strValue}</Span>\n          ))\n        }\n      </b>\n    </div>\n  );\n}\n\nDnaViewer.propTypes = {\n  dna: PropTypes.instanceOf(KittyDNA).isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Accordion, Alert, Button, Card\n} from 'react-bootstrap';\nimport moment from 'moment';\nimport styled from 'styled-components';\n\nimport DnaViewer from './DnaViewer';\nimport { CatModel } from '../js/catFactory';\nimport Cattribute from '../js/Cattribute';\n\n\nconst PlainCard = styled(Card)`\n  border: 0;\n  background-color: transparent;\n`;\n\nconst CardHeader = styled(Card.Header)`\n  padding: 0 1.25rem;\n`;\n\nconst BtnSecondary = styled(Button)`\n  background-color: darkgray;\n  border-color: darkgray;\n`;\n\nexport default function CatFeatures({ model, }) {\n  const { cat, dna, } = model;\n  const [onCooldown, setOnCooldown] = useState(false);\n  const [toReadyTxt, setToReadyTxt] = useState('');\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const now = moment();\n      const cooldownEndTime = moment.unix(cat.cooldownEndTime);\n      if (now.isBefore(cooldownEndTime)) {\n        setOnCooldown(true);\n        const newReadyText = now.to(cooldownEndTime);\n        setToReadyTxt(newReadyText);\n      } else {\n        setOnCooldown(false);\n        clearInterval(timer);\n      }\n    }, 1000);\n\n    return () => clearInterval(timer);\n  });\n\n  if (!cat.kittyId) {\n    return (\n      <DnaViewer dna={dna} />\n    );\n  }\n\n  const cattributes = dna.cattributes\n    .filter((c) => c.type === Cattribute.TYPES.cattribute)\n    .map((c) => (\n      <span key={c.name}>\n        {c.displayName}\n        :\n        {' '}\n        {c.valueName}\n      </span>\n    ));\n\n  const breedCountdown = onCooldown\n    ? (\n      <Alert variant=\"info\">\n        <small>\n          Ready to breed\n          {toReadyTxt}\n        </small>\n      </Alert>\n    )\n    : null;\n\n  return (\n    <Accordion>\n      <PlainCard>\n        <CardHeader>\n          <Accordion.Toggle as={BtnSecondary} eventKey=\"0\">\n            <strong>\n              <span>\n                #\n                {cat.kittyId}\n                {' '}\n                Gen\n                {' '}\n                {cat.generation}\n                {' '}\n                <span role=\"img\" aria-label=\"timer clock\">⏲</span>\n                <span>\n                  {cat.cooldown.name}\n                  {' '}\n                  (\n                  {cat.cooldown.durationName}\n                  )\n                </span>\n              </span>\n            </strong>\n            <DnaViewer dna={dna} />\n          </Accordion.Toggle>\n        </CardHeader>\n      </PlainCard>\n      <Accordion.Collapse eventKey=\"0\">\n        <Card.Body>\n          {breedCountdown}\n          <div className=\"d-flex flex-column\">\n            {cattributes}\n          </div>\n        </Card.Body>\n      </Accordion.Collapse>\n    </Accordion>\n  );\n}\n\nCatFeatures.propTypes = {\n  model: PropTypes.instanceOf(CatModel).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Col } from 'react-bootstrap';\nimport styled from 'styled-components';\n\nimport Cat from './Cat';\nimport CatFeatures from './CatFeatures';\nimport { CatModel } from '../js/catFactory';\n\n\nconst Box = styled(Col)`\n    background-color: #e2efff;\n    border-radius: 10px;\n    padding-top: 2rem;\n    padding-bottom: 2rem;\n    min-width: 20rem;\n    max-width: 20rem;\n`;\n\nexport default function CatBox({ model, }) {\n  if (!model) {\n    return <div />;\n  }\n\n  return (\n    <Box className=\"m-2 light-b-shadow\">\n      <Cat model={model} />\n      <CatFeatures model={model} />\n    </Box>\n  );\n}\n\nCatBox.propTypes = {\n  model: PropTypes.instanceOf(CatModel).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert } from 'react-bootstrap';\n\nexport default function BirthAlert(props) {\n  const {\n    show,\n    handleBirthEventClose,\n    event,\n  } = props;\n  const { kittyId, genes, } = event || {};\n\n  return (\n    <Alert\n      className=\"w-100 ml-4\"\n      variant=\"success\"\n      dismissible\n      show={show}\n      onClose={handleBirthEventClose}\n    >\n      <strong>A new kitty was born! </strong>\n      <span>\n        KittyId:\n        {kittyId}\n        {' '}\n        DNA:\n        {genes}\n      </span>\n    </Alert>\n  );\n}\n\nBirthAlert.propTypes = {\n  show: PropTypes.bool.isRequired,\n  handleBirthEventClose: PropTypes.func.isRequired,\n  event: PropTypes.shape({\n    owner: PropTypes.string,\n    kittyId: PropTypes.string,\n    mumId: PropTypes.string,\n    dadId: PropTypes.string,\n    genes: PropTypes.string,\n  }),\n};\n\nBirthAlert.defaultProps = {\n  event: {},\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nexport default function GenZeroCounter({ msg, }) {\n  const gen0Count = useSelector((state) => state.kitties.genZeroCount);\n  const gen0Limit = useSelector((state) => state.kitties.genZeroLimit);\n\n  if (!gen0Limit) {\n    return null;\n  }\n\n  return (\n    <span>\n      {gen0Count}\n      {' '}\n      of\n      {' '}\n      {gen0Limit}\n      {' '}\n      {msg}\n    </span>\n  );\n}\n\nGenZeroCounter.propTypes = {\n  msg: PropTypes.string,\n};\n\nGenZeroCounter.defaultProps = {\n  msg: 'Gen 0',\n};\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Tabs, Tab, Button, Col, Row, Badge\n} from 'react-bootstrap';\n\nimport { CatModel } from '../js/catFactory';\nimport Cattribute from '../js/Cattribute';\nimport CatSettings from './CatSettings';\nimport CatBox from '../cat/CatBox';\nimport BirthAlert from './BirthAlert';\nimport { createGen0Kitty, selectKittyById, newKittenIdClear } from '../cat/catSlice';\nimport GenZeroCounter from '../cat/GenZeroCounter';\n\nconst initialCatModel = new CatModel();\n\n\nexport default function CatFactory() {\n  const dispatch = useDispatch();\n\n  const [cat, setCat] = useState({ model: initialCatModel, });\n  const kitten = useSelector((state) => selectKittyById(state, state.kitties.newKittenId));\n\n\n  const handleDnaChange = (event) => {\n    // set new dna value\n    const cattributeName = event.target.id;\n    const value = +event.target.value;\n\n    setCat((oldState) => {\n      const newModel = oldState.model.mewtate(cattributeName, value);\n      return { model: newModel, };\n    });\n  };\n\n  const handleSetDefaultKitty = () => {\n    const defaultCat = new CatModel();\n    setCat({ model: defaultCat, });\n  };\n\n  const handleSetRandomKitty = () => {\n    const randomCat = CatModel.getRandom();\n    setCat({ model: randomCat, });\n  };\n\n  const handleCreateKitty = () => {\n    dispatch(createGen0Kitty(cat.model.dna.dna));\n  };\n\n  const handleBirthEventClose = () => {\n    dispatch(newKittenIdClear());\n  };\n\n  return (\n    <>\n      <div className=\"p-2\">\n        <h1>\n          Kitty Factory\n          {' '}\n          <small>\n            <Badge pill variant=\"secondary\">\n              <GenZeroCounter />\n            </Badge>\n          </small>\n        </h1>\n        <p className=\"text-justify\">\n          Create a custom generation zero Kitty!\n          {' '}\n          <small>\n            Gen zero kitties are special.\n            They have no parents and only a limited number will ever exist!\n            Once the limit is reached no more gen zero kitties can be made.\n          </small>\n        </p>\n      </div>\n      <Row>\n        <Col lg={4}>\n          <CatBox model={cat.model} />\n        </Col>\n        <Col lg={8}>\n          <Tabs variant=\"pills\" defaultActiveKey=\"CatColors\" id=\"cat-factory\">\n            <Tab eventKey=\"CatColors\" title=\"Cat Colors\">\n              <CatSettings\n                type={Cattribute.TYPES.basic}\n                dna={cat.model.dna}\n                handleDnaChange={handleDnaChange}\n              />\n            </Tab>\n            <Tab eventKey=\"Cattributes\" title=\"Cattributes\">\n              <CatSettings\n                type={Cattribute.TYPES.cattribute}\n                dna={cat.model.dna}\n                handleDnaChange={handleDnaChange}\n              />\n            </Tab>\n          </Tabs>\n          <div>\n            <Button\n              variant=\"warning\"\n              className=\"m-2\"\n              onClick={handleSetDefaultKitty}\n            >\n              Default Kitty\n            </Button>\n            <Button\n              variant=\"warning\"\n              className=\"m-2\"\n              onClick={handleSetRandomKitty}\n            >\n              Random Kitty\n            </Button>\n            <Button\n              variant=\"warning\"\n              className=\"m-2\"\n              onClick={handleCreateKitty}\n            >\n              Create Kitty\n            </Button>\n          </div>\n          <BirthAlert\n            show={Boolean(kitten)}\n            event={kitten}\n            handleBirthEventClose={handleBirthEventClose}\n          />\n        </Col>\n      </Row>\n    </>\n  );\n}\n","/* eslint-disable no-param-reassign */\nimport { createSlice } from '@reduxjs/toolkit';\n\n\nexport const ParentType = {\n  MUM: 'mum',\n  DAD: 'dad',\n  SIRE: 'sire',\n};\n\nexport const BreedProgress = {\n  SELECT: 'select parents',\n  ERROR_SAME_PARENT: 'error same parent',\n  READY: 'ready',\n  BIRTH: 'birth',\n};\n\nconst initialState = {\n  dadId: null,\n  mumId: null,\n  kittenId: null,\n  sireOfferId: null,\n  progress: BreedProgress.SELECT,\n  error: null,\n};\n\nconst breedSlice = createSlice({\n  name: 'breed',\n  initialState,\n  reducers: {\n    breedProgress: (state, action) => {\n      state.progress = action.payload;\n    },\n    setParent: {\n      reducer(state, action) {\n        const { parentId, parentType, } = action.payload;\n        if (parentType === ParentType.MUM) {\n          state.mumId = parentId;\n        } else {\n          state.dadId = parentId;\n          if (parentType === ParentType.SIRE) {\n            state.sireOfferId = parentId;\n          }\n        }\n\n        state.error = null;\n      },\n    },\n    kittenBredEvent: (state, action) => {\n      state.kittenId = action.payload;\n      state.progress = BreedProgress.BIRTH;\n    },\n    sireOfferSelected: (state, action) => {\n      state.sireOfferId = action.payload;\n      state.dadId = action.payload;\n    },\n    breedReset: (state) => {\n      state.dadId = null;\n      state.mumId = null;\n      state.kittenId = null;\n      state.sireOfferId = null;\n      state.progress = BreedProgress.SELECT;\n      state.error = null;\n    },\n    breedError: (state, action) => {\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const {\n  breedProgress,\n  breedReset,\n  kittenBredEvent,\n  setParent,\n  sireOfferSelected,\n  breedError,\n} = breedSlice.actions;\n\nexport default breedSlice.reducer;\n\n/*\n * Selectors\n*/\nexport const selectParentIds = (state) => {\n  const { mumId, dadId, progress, } = state.breed;\n  return {\n    mumId,\n    dadId,\n    progress,\n  };\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Alert, InputGroup, Form\n} from 'react-bootstrap';\nimport styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Service from '../js/service';\nimport { selectOfferByKittyId } from '../market/offerSlice';\nimport { sireOfferSelected } from '../breed/breedSlice';\n\nconst SELL_STATUS = {\n  notForSale: 'Not For Sale',\n  approvalRequired: 'Approval Required',\n  setPrice: 'Set Price',\n  sendingOffer: 'Sending Offer',\n  offerCreated: 'Offer Created',\n  cancellingOffer: 'Cancelling Offer',\n  offerCancelled: 'Offer Cancelled',\n  sendingBuyOffer: 'Sending Buy Offer',\n  sold: 'Sold',\n};\n\nconst KittyAlert = styled(Alert)`\n  width: 19rem;\n`;\n\nconst emptyMessage = {\n  text: '',\n  type: 'info',\n};\n\n\nexport default function CatAction(props) {\n  const {\n    btnText,\n    btnTextPlural,\n    handleBackClicked,\n    handleCreateOfferClicked,\n    handleBuyOfferClicked,\n    handleCancelOffer,\n    kittyId,\n  } = props;\n\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => state.wallet.account);\n  const offer = useSelector((state) => selectOfferByKittyId(state, kittyId));\n  const [sellStatus, setSellStatus] = useState(SELL_STATUS.notForSale);\n  const [message, setMessage] = useState(emptyMessage);\n\n  useEffect(() => {\n    setMessage(emptyMessage);\n\n    if (offer) {\n      setSellStatus(SELL_STATUS.offerCreated);\n    } else {\n      setSellStatus(SELL_STATUS.setPrice);\n    }\n  }, [offer]);\n\n  const [price, setPrice] = useState(undefined);\n  const onPriceChange = (e) => setPrice(e.target.value);\n\n  const onCreateOfferClicked = (event) => {\n    event.preventDefault();\n    handleCreateOfferClicked(price);\n  };\n\n  const onSireOfferClicked = () => {\n    dispatch(sireOfferSelected(offer.tokenId));\n  };\n\n\n  let sellDisplay = null;\n  switch (sellStatus) {\n    case SELL_STATUS.setPrice: {\n      sellDisplay = (\n        <Form inline onSubmit={onCreateOfferClicked}>\n          <InputGroup>\n            <Form.Control\n              style={{ width: '5rem', }}\n              name=\"price\"\n              type=\"number\"\n              min={0}\n              step={0.001}\n              onChange={onPriceChange}\n              placeholer=\"Set Price\"\n            />\n          </InputGroup>\n          <InputGroup.Append>\n            <InputGroup.Text>ETH</InputGroup.Text>\n            <Button type=\"submit\">\n              {btnText}\n              Kitty\n            </Button>\n            <Button\n              variant=\"secondary\"\n              onClick={handleBackClicked}\n            >\n              Back\n            </Button>\n          </InputGroup.Append>\n        </Form>\n      );\n      break;\n    }\n    case SELL_STATUS.offerCreated: {\n      if (!offer) {\n        break;\n      }\n      const priceInEth = Service.web3.utils.fromWei(offer.price, 'ether');\n      let sellButton;\n      if (user !== offer.seller) {\n        sellButton = offer.isSireOffer\n          ? (\n            <NavLink\n              to=\"/breed\"\n              onClick={onSireOfferClicked}\n              className=\"btn btn-primary nav-link\"\n            >\n              Buy\n            </NavLink>\n          )\n          : (\n            <Button\n              key=\"buy\"\n              variant=\"primary\"\n              className=\"ml-2\"\n              onClick={handleBuyOfferClicked}\n            >\n              Buy\n            </Button>\n          );\n      } else {\n        sellButton = (\n          <Button\n            key=\"cancel\"\n            variant=\"primary\"\n            className=\"ml-2\"\n            onClick={handleCancelOffer}\n          >\n            Cancel\n          </Button>\n        );\n      }\n      sellDisplay = (\n        <div className=\"d-flex align-items-center\">\n          <span className=\"mr-2\">\n            {btnTextPlural}\n            {' '}\n            For:\n            {' '}\n            {priceInEth.toString(10)}\n            {' '}\n            ETH\n          </span>\n          {sellButton}\n        </div>\n      );\n      break;\n    }\n\n    default:\n      break;\n  }\n\n  return (\n    <div className=\"mr-2\">\n      {sellDisplay}\n      <KittyAlert\n        variant={message.type}\n        show={message.text.length > 0}\n      >\n        {message.text}\n      </KittyAlert>\n    </div>\n  );\n}\n\nCatAction.propTypes = {\n  btnText: PropTypes.string.isRequired,\n  btnTextPlural: PropTypes.string.isRequired,\n  handleBackClicked: PropTypes.func.isRequired,\n  handleCreateOfferClicked: PropTypes.func.isRequired,\n  handleBuyOfferClicked: PropTypes.func.isRequired,\n  handleCancelOffer: PropTypes.func.isRequired,\n  kittyId: PropTypes.string.isRequired,\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { eventChannel } from 'redux-saga';\nimport {\n  call, put, take, all, fork, race\n} from 'redux-saga/effects';\nimport { addKitties, updateKitty } from '../cat/catSlice';\n\nimport Service from '../js/service';\nimport { contractInitSuccess } from '../wallet/walletSaga';\nimport {\n  offerError, offerCreated, offerPurchased, offerCancelled, buyKitty, offerEventNotify, removeOffer\n} from './offerSlice';\n\n\nexport const MarketTransType = {\n  sellOfferCreated: 'Create',\n  sellOfferPurchased: 'Buy',\n  sireOfferCreated: 'Sire Offer',\n  sireOfferPurchased: 'Sire Rites',\n  offerCancelled: 'Remove',\n};\n\n// actions\nexport const marketEvent = createAction('offers/marketEvent');\nexport const buyOffer = createAction('offers/buy');\nexport const cancelOffer = createAction('offers/cancel');\n\n\nfunction offerRejectedActionMatcher(action) {\n  const match = action.type.match(/offers\\/.*\\/rejected/);\n  return Boolean(match);\n}\n\nfunction* dispatchAlertOnEventMatch(_tokenId, transType) {\n  let matchingEvent;\n  do {\n    const result = yield race({\n      eventAction: take(marketEvent),\n      rejected: take(offerRejectedActionMatcher),\n    });\n\n    if (result.rejected) {\n      // abort- an error occured\n      // console.log(`dispatchAlertOnEventMatch: aborting. received reject`);\n      break;\n    }\n\n    // else a market event occurred\n    // check to see if it's the right one\n    const { tokenId, TxType, } = result.eventAction.payload;\n\n    if (tokenId === _tokenId\n      && TxType === transType\n    ) {\n      matchingEvent = result.eventAction.payload;\n    }\n  } while (!matchingEvent);\n\n  if (matchingEvent) {\n    // display market event\n    yield put(offerEventNotify(matchingEvent));\n  }\n  // else an error occurred so no notification\n}\n\nfunction* onOfferError(err) {\n  console.error(err);\n  yield put(offerError(err.message));\n}\n\nfunction createMarketEventChannel() {\n  return eventChannel((emitter) => {\n    const onEvent = (e) => {\n      // console.log('offerSaga:: market event ', e);\n      emitter(e);\n    };\n\n    Service.market.subscribe(onEvent);\n\n    return () => Service.market.unsubscribe(onEvent);\n  });\n}\n\nfunction* onMarketEvent(eventData) {\n  let offer;\n  let kitty;\n  try {\n    // update offer slice\n    switch (eventData.TxType) {\n      case MarketTransType.sellOfferCreated:\n      case MarketTransType.sireOfferCreated:\n        offer = yield call(\n          Service.market.getOffer, eventData.tokenId\n        );\n        yield put(offerCreated(offer));\n\n        kitty = yield call(\n          Service.kitty.getKitty, eventData.tokenId\n        );\n        yield put(addKitties([kitty]));\n        break;\n\n      case MarketTransType.sellOfferPurchased:\n      case MarketTransType.sireOfferPurchased:\n        yield put(offerPurchased(eventData));\n\n        // kitty will have changed ownership or\n        // have a new cooldown\n        kitty = yield call(\n          Service.kitty.getKitty, eventData.tokenId\n        );\n        yield put(updateKitty(kitty));\n        break;\n\n      case MarketTransType.offerCancelled:\n        yield put(offerCancelled(eventData));\n        break;\n\n      default:\n        console.error('Unknown market trans type: ', eventData.TxType);\n        break;\n    }\n  } catch (error) {\n    yield put(offerError(error));\n  }\n}\n\nfunction* watchMarketChannel() {\n  // watch for market events once market contract is initialized\n  yield take(contractInitSuccess);\n\n  const chanMarket = yield call(createMarketEventChannel);\n\n  while (true) {\n    try {\n      const eventData = yield take(chanMarket);\n      yield call(onMarketEvent, eventData);\n\n      // broadcast event\n      yield put(marketEvent(eventData));\n    } catch (err) {\n      onOfferError(err);\n    }\n  }\n}\n\nfunction* onCancelOffer(tokenId) {\n  try {\n    yield fork(\n      dispatchAlertOnEventMatch,\n      tokenId,\n      MarketTransType.offerCancelled\n    );\n\n    yield put(removeOffer({ kittyId: tokenId, }));\n  } catch (err) {\n    onOfferError(err);\n  }\n}\n\nfunction* onBuyOffer(offer) {\n  try {\n    yield fork(\n      dispatchAlertOnEventMatch,\n      offer.tokenId,\n      MarketTransType.sellOfferPurchased\n    );\n\n    yield put(buyKitty({ offer, }));\n  } catch (err) {\n    onOfferError(err);\n  }\n}\n\nfunction* watchForBuyOffer() {\n  while (true) {\n    const { payload, } = yield take(buyOffer);\n    yield fork(onBuyOffer, payload.offer);\n  }\n}\n\nfunction* watchForCancelOffer() {\n  while (true) {\n    const { payload, } = yield take(cancelOffer);\n    yield fork(onCancelOffer, payload.kittyId);\n  }\n}\n\nexport function* offerSaga() {\n  yield all([\n    watchMarketChannel(),\n    watchForBuyOffer(),\n    watchForCancelOffer(),\n  ]);\n}\n","import React from 'react';\nimport { Alert, Button, Col } from 'react-bootstrap';\nimport { useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { approveMarket } from '../wallet/walletSlice';\n\nconst KittyAlert = styled(Alert)`\n  width: 19rem;\n`;\n\nexport default function ApproveMarket({ show = true, handleApproveCancel, }) {\n  const dispatch = useDispatch();\n\n  if (!show) {\n    return null;\n  }\n\n  const onApproveClicked = () => dispatch(approveMarket());\n\n  return (\n    <Col>\n      <KittyAlert\n        variant=\"info\"\n      >\n        In order to sell your kitties you need to give the\n        Marketplace permission to transfer your kitties on your behalf.\n        This is required so the buyer and seller do not need to be online\n        at the same time.\n      </KittyAlert>\n      <Button onClick={onApproveClicked}>\n        YES. It&apos;s OK. You are approved!\n      </Button>\n      <Button\n        variant=\"warning\"\n        onClick={handleApproveCancel}\n      >\n        Cancel\n      </Button>\n    </Col>\n\n  );\n}\n\nApproveMarket.propTypes = {\n  handleApproveCancel: PropTypes.func.isRequired,\n  show: PropTypes.bool,\n};\n\nApproveMarket.defaultProps = {\n  show: true,\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, Row } from 'react-bootstrap';\n\nimport CatAction from './CatAction';\nimport { offerTypes } from '../js/kittyConstants';\nimport { selectOfferByKittyId, sellKitty, sireKitty } from '../market/offerSlice';\nimport { buyOffer, cancelOffer } from '../market/offerSaga';\nimport { selectIsApproved } from '../wallet/walletSlice';\nimport ApproveMarket from '../market/ApproveMarket';\n\n\nexport default function CatActions({ kittyId, isBuyMode, }) {\n  const dispatch = useDispatch();\n\n  const [offerType, setOfferType] = useState(undefined);\n  const offer = useSelector((state) => selectOfferByKittyId(state, kittyId));\n  useEffect(() => {\n    if (offer) {\n      const theOfferType = offer.isSireOffer\n        ? offerTypes.sire : offerTypes.sell;\n      setOfferType(theOfferType);\n    }\n  }, [offer]);\n\n  const approved = useSelector(selectIsApproved);\n  const [askForApproval, setAskForApproval] = useState(false);\n  useEffect(() => {\n    // hide the approval button after approval given\n    if (askForApproval && approved) {\n      setAskForApproval(false);\n    }\n  }, [askForApproval, approved]);\n\n  const onActionClicked = async (type) => {\n    if (!approved) {\n      setAskForApproval(true);\n    }\n    setOfferType(type);\n  };\n\n  const handleApproveCancel = () => setAskForApproval(false);\n\n  const createSaleOffer = async (price) => {\n    if (approved) {\n      dispatch(sellKitty({ kittyId, price, }));\n    } else {\n      setAskForApproval(true);\n    }\n  };\n\n  const createSireOffer = async (price) => dispatch(sireKitty({ kittyId, price, }));\n  const handleCancelOffer = async () => dispatch(cancelOffer({ kittyId, }));\n  const handleBuyKittyClicked = async () => dispatch(buyOffer({ offer, }));\n  const handleBackClicked = () => setOfferType(undefined);\n\n  // sire offers handled in the breed page\n  // by navigating there with the sireId as a query param\n  const handleBuySireOfferClicked = async () => Promise.resolve(true);\n\n  let action;\n  if (askForApproval) {\n    action = (\n      <ApproveMarket handleApproveCancel={handleApproveCancel} />\n    );\n  } else {\n    switch (offerType) {\n      case offerTypes.sell:\n        action = (\n          <CatAction\n            offer={offer}\n            btnText=\"Sell\"\n            btnTextPlural=\"Selling\"\n            isBuyMode={isBuyMode}\n            kittyId={kittyId}\n            handleBackClicked={handleBackClicked}\n            handleCreateOfferClicked={createSaleOffer}\n            handleBuyOfferClicked={handleBuyKittyClicked}\n            handleCancelOffer={handleCancelOffer}\n          />\n        );\n        break;\n\n      case offerTypes.sire:\n        action = (\n          <CatAction\n            offer={offer}\n            btnText=\"Sire\"\n            btnTextPlural=\"Siring\"\n            isBuyMode={isBuyMode}\n            kittyId={kittyId}\n            handleBackClicked={handleBackClicked}\n            handleCreateOfferClicked={createSireOffer}\n            handleBuyOfferClicked={handleBuySireOfferClicked}\n            handleCancelOffer={handleCancelOffer}\n          />\n        );\n        break;\n\n      default:\n        action = Object.keys(offerTypes).map((keyName) => (\n          <Button\n            key={keyName}\n            className=\"mr-2\"\n            onClick={() => onActionClicked(offerTypes[keyName])}\n          >\n            {offerTypes[keyName]}\n          </Button>\n        ));\n        break;\n    }\n  }\n\n  return (\n    <Row className=\"pl-4\">\n      {action}\n    </Row>\n  );\n}\n\nCatActions.propTypes = {\n  kittyId: PropTypes.string.isRequired,\n  isBuyMode: PropTypes.bool.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const SmallCatContainer = styled.div`\n  transform: scale(0.5);\n  position: relative;\n  top: -160px;\n  left: -85px;\n  margin-right: -160px;\n  margin-bottom: -305px;\n`;\n\nexport const MediumCatContainer = styled.div`\n  transform: scale(0.75);\n  position: relative;\n  top: -75px;\n  left: -45px;\n  margin-right: -75px;\n  margin-bottom: -150px;\n`;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Container } from 'react-bootstrap';\n\nimport CatBox from './CatBox';\nimport CatActions from './CatActions';\nimport { selectKittiesByOwner } from './catSlice';\nimport { CatModel } from '../js/catFactory';\nimport { MediumCatContainer } from './CatBoxContainers';\n\n\nexport default function CatList() {\n  const wallet = useSelector((state) => state.wallet);\n  const kitties = useSelector((state) => selectKittiesByOwner(state, wallet.account));\n\n  if (!kitties.length) {\n    return (\n      <p>You have no kittes! Go to the Marketplace to adpot some!</p>\n    );\n  }\n\n  const catBoxes = kitties.map((kitty) => {\n    const model = new CatModel(kitty);\n    return (\n      <MediumCatContainer key={kitty.kittyId}>\n        <CatBox model={model} />\n        <CatActions kittyId={kitty.kittyId} isBuyMode={false} />\n      </MediumCatContainer>\n    );\n  });\n\n  return (\n    <Container>\n      <h1>My Kitties</h1>\n      <div className=\"d-flex flex-wrap\">\n        {catBoxes}\n      </div>\n    </Container>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  Alert, Button, Col, Row\n} from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Cat from './components/cat/Cat';\nimport { CatModel } from './components/js/catFactory';\nimport { connect } from './components/wallet/walletSaga';\nimport GenZeroCounter from './components/cat/GenZeroCounter';\n\nconst Featured = styled(Row)`\n    max-width: 40rem;\n`;\n\nconst Div = styled(Col)`\n    transform: scale(0.75);\n`;\n\nexport default function Home() {\n  const dispatch = useDispatch();\n  const wallet = useSelector((state) => state.wallet);\n\n  const featured = [\n    '3840837671829324',\n    '9092334640245223',\n    '1929825512645025',\n    '4485804221431312',\n    '1013934222421341',\n  ];\n\n  const featuredCats = featured.map((genes) => {\n    const cat = new CatModel({ genes, });\n    return (\n      <Div key={genes}>\n        <Cat model={cat} />\n      </Div>\n    );\n  });\n\n  return (\n    <div className=\"d-flex flex-column align-items-center\">\n      <div align=\"center\" className=\"mt-2\">\n        <h1>Academy Kitties</h1>\n        <p>\n          Collect and breed furrever freinds!\n          <br />\n          <GenZeroCounter msg=\"geneneration zero Kittes already created. Get yours before they're all gone!\" />\n        </p>\n      </div>\n      {\n        !wallet.isConnected && wallet.web3ProviderAvailable\n          ? (\n            <h3>\n              <Button size=\"lg\" onClick={() => dispatch(connect())}>\n                Connect to get started\n              </Button>\n            </h3>\n          )\n          : null\n      }\n      {\n        !wallet.web3ProviderAvailable\n          ? (\n            <Alert variant=\"danger\">\n              Web 3 provider not detected.\n              {' '}\n              <a\n                href=\"https://metamask.io\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Please install Metamask\n              </a>\n              {' '}\n              to get started.\n            </Alert>\n          )\n          : null\n      }\n      <Featured>\n        {featuredCats}\n      </Featured>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { PropTypes } from 'prop-types';\nimport {\n  ButtonGroup, Button, Badge, Row\n} from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\n\nimport CatBox from '../cat/CatBox';\nimport { CatModel } from '../js/catFactory';\nimport { selectKittyById } from '../cat/catSlice';\nimport { MediumCatContainer } from '../cat/CatBoxContainers';\nimport { ParentType } from './breedSlice';\nimport { selectOfferByKittyId } from '../market/offerSlice';\nimport Service from '../js/service';\n\nexport const BreedListType = {\n  user: 'Your Kitties',\n  sire: 'Buy Sire',\n};\n\n\nfunction useCurrentKitty(list, index) {\n  const kittyId = list[index];\n  const kitty = useSelector((state) => selectKittyById(state, kittyId));\n  const offer = useSelector((state) => selectOfferByKittyId(state, kittyId));\n\n  return {\n    kitty: kitty ? new CatModel(kitty) : null,\n    offer,\n  };\n}\n\nexport default function BreedList(props) {\n  const {\n    kittyIds,\n    listType,\n    handleOnSetParent,\n  } = props;\n\n  const [pageNum, setPageNum] = useState(0);\n  const model = useCurrentKitty(kittyIds, pageNum);\n\n  useEffect(() => {\n    // reset the page number when the list changes\n    setPageNum(0);\n  }, [listType]);\n\n  const isSireList = useCallback(\n    () => listType === BreedListType.sire,\n    [listType]\n  );\n\n  const isOnCoolDown = useCallback(\n    () => {\n      if (model.kitty) {\n        const now = moment();\n        const cooldownEnd = moment.unix(model.kitty.cat.cooldownEndTime);\n        return now.isBefore(cooldownEnd);\n      }\n\n      return false;\n    },\n    [model]\n  );\n\n  const [onCooldown, setOnCooldown] = useState(isOnCoolDown());\n  useEffect(() => {\n    setOnCooldown(isOnCoolDown());\n    let timer;\n    if (isOnCoolDown()) {\n      timer = setInterval(() => {\n        setOnCooldown(isOnCoolDown());\n      }, 1000);\n    }\n    return () => clearInterval(timer);\n  }, [isOnCoolDown, onCooldown, model]);\n\n  const readyStatus = {\n    isReady: false,\n    msg: '',\n  };\n  if (model.offer && listType !== BreedListType.sire) {\n    readyStatus.msg = model.offer.isSireOffer\n      ? 'Not Ready: Siring'\n      : 'Not Ready: On Sale';\n  } else if (onCooldown) {\n    readyStatus.msg = 'Not Ready: On Cooldown';\n  } else {\n    readyStatus.isReady = true;\n    readyStatus.msg = 'Ready';\n  }\n\n  const prevDisabled = (pageNum === 0);\n  const nextDisabled = (pageNum >= (kittyIds.length - 1));\n\n  const onPrevKittyClicked = () => {\n    if (prevDisabled) {\n      return;\n    }\n    const prev = pageNum - 1;\n    setPageNum(prev);\n    setOnCooldown(isOnCoolDown());\n  };\n\n  const onNextKittyClicked = () => {\n    if (pageNum === (kittyIds.length - 1)) {\n      return;\n    }\n    const next = pageNum + 1;\n    setPageNum(next);\n    setOnCooldown(isOnCoolDown());\n  };\n\n  return (\n    <div className=\"d-flex flex-column align-items-center\">\n      <ButtonGroup>\n        <Button\n          variant=\"secondary\"\n          size=\"sm\"\n          disabled={prevDisabled}\n          onClick={onPrevKittyClicked}\n        >\n          Prev Kitty\n        </Button>\n        <Button\n          variant=\"info\"\n          size=\"sm\"\n          disabled={!readyStatus.isReady || isSireList()}\n          onClick={() => handleOnSetParent(\n            model.kitty,\n            ParentType.MUM\n          )}\n        >\n          Set as Mum\n        </Button>\n        <Button\n          variant=\"info\"\n          size=\"sm\"\n          disabled={!readyStatus.isReady}\n          onClick={() => handleOnSetParent(\n            model.kitty,\n            isSireList() ? ParentType.SIRE : ParentType.DAD\n          )}\n        >\n          Set as Dad\n        </Button>\n        <Button\n          variant=\"secondary\"\n          size=\"sm\"\n          disabled={nextDisabled}\n          onClick={onNextKittyClicked}\n        >\n          Next Kitty\n        </Button>\n      </ButtonGroup>\n      <Row>\n        <span>{model.offer ? `${Service.web3.utils.fromWei(model.offer.price)} ETH ` : ''}</span>\n        <Badge\n          variant={readyStatus.isReady ? 'success' : 'secondary'}\n          className=\"m-1\"\n        >\n          {readyStatus.msg}\n        </Badge>\n      </Row>\n      <MediumCatContainer>\n        <CatBox model={model.kitty} />\n      </MediumCatContainer>\n    </div>\n  );\n}\n\nBreedList.propTypes = {\n  handleOnSetParent: PropTypes.func.isRequired,\n  kittyIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n  listType: PropTypes.string.isRequired,\n};\n","import { createAction } from '@reduxjs/toolkit';\nimport { eventChannel } from 'redux-saga';\nimport {\n  call, put, take, all, race,\n} from 'redux-saga/effects';\n\nimport KittyService from '../js/kitty.service';\nimport Service from '../js/service';\nimport { contractInitSuccess } from '../wallet/walletSaga';\nimport {\n  kittenBorn, createGen0Kitty, kittyError, getGen0KittyCount,\n} from './catSlice';\n\nexport const birthEvent = createAction('kitties/birthEvent');\n\n\nexport function* dispatchKittenOnBirthEventMatch(matchFn) {\n  // listen for birth events until\n  // matching kitten is found or an error\n  let kittenEvent;\n  do {\n    const { payload, } = yield take(birthEvent);\n\n    if (matchFn(payload)) {\n      kittenEvent = payload;\n    }\n  } while (!kittenEvent);\n\n  const kitten = yield call(\n    Service.kitty.getKitty,\n    kittenEvent.kittyId\n  );\n  yield put(kittenBorn(kitten));\n\n  return kitten;\n}\n\n/**\n * Dispatches a birth event for the Kitty Creator\n */\nfunction* onGenZeroKitty() {\n  while (true) {\n    try {\n      const action = yield take(createGen0Kitty.pending);\n      const newDna = action.meta.arg;\n\n      // listen for birth events until\n      // matching kitten is found or an error\n      yield race({\n        birth: call(\n          dispatchKittenOnBirthEventMatch,\n          (kitten) => kitten.genes === newDna\n        ),\n        error: take(createGen0Kitty.rejected),\n      });\n    } catch (error) {\n      console.error(error);\n      yield put(kittyError(error.message));\n    }\n  }\n}\n\n\nfunction createBirthEventChannel() {\n  return eventChannel((emitter) => {\n    const onEvent = (e) => {\n      // console.log('catSaga:: birth event', e);\n      emitter(e);\n    };\n\n    Service.kitty.on(KittyService.eventNames.Birth, onEvent);\n\n    return () => Service.kitty.off(KittyService.eventNames.Birth, onEvent);\n  });\n}\n\n\nfunction* dispatchBirthEvent() {\n  // watch for Birth event once kitty contract is initialized\n  yield take(contractInitSuccess);\n\n  const birthChan = yield call(createBirthEventChannel);\n\n  while (true) {\n    try {\n      const e = yield take(birthChan);\n      yield put(birthEvent(e));\n    } catch (err) {\n      console.error(err);\n      yield put(kittyError(err.message));\n    }\n  }\n}\n\n/**\n * Update the generation 0 count on birth of a gen 0 kitty\n */\nfunction* onGen0KittyBirth() {\n  while (true) {\n    try {\n      // watch all birth events\n      const { payload, } = yield take(birthEvent);\n      const { kittyId, } = payload;\n\n      // TODO: add generation to the birth event\n      // get the kitten from the contract as it might not be in the store\n      const kitten = yield call(Service.kitty.getKitty, kittyId);\n\n      // update the count if generation zero\n      if (kitten && +kitten.generation === 0) {\n        yield put(getGen0KittyCount());\n      }\n    } catch (error) {\n      yield put(kittyError(error.message));\n    }\n  }\n}\n\n\nexport function* catSaga() {\n  yield all([\n    dispatchBirthEvent(),\n    onGenZeroKitty(),\n    onGen0KittyBirth(),\n  ]);\n}\n","import { createAction } from '@reduxjs/toolkit';\nimport {\n  all, fork, put, race, select, take\n} from 'redux-saga/effects';\n\nimport { breedKitties, fetchKitty, kittenBorn } from '../cat/catSlice';\nimport {\n  selectParentIds, breedError, breedProgress, BreedProgress, kittenBredEvent, setParent\n} from './breedSlice';\nimport { dispatchKittenOnBirthEventMatch } from '../cat/catSaga';\nimport { buySireRites } from '../market/offerSlice';\n\n\nexport const approveParent = createAction(\n  'breed/approveParent',\n  ({ parentId, parentType, }) => ({ payload: { parentId, parentType, }, })\n);\n\nexport const parentApproved = createAction('breed/parentApproved');\n\nexport const breed = createAction(\n  'breed/breed',\n  ({ mumId, dadId, }) => ({ payload: { mumId, dadId, }, })\n);\n\nexport const sire = createAction(\n  'breed/sire',\n  ({ offer, matronId, }) => ({ payload: { offer, matronId, }, })\n);\n\n\nfunction isDifferent(parentId, currentParents) {\n  // must be different than both current parents\n  return parentId !== currentParents.mumId\n    && parentId !== currentParents.dadId;\n}\n\n\nfunction setReady(currentParents) {\n  // both parents are defined\n  // don't set if progress was already ready\n  return currentParents.progress !== BreedProgress.READY\n    && Boolean(currentParents.mumId)\n    && Boolean(currentParents.dadId);\n}\n\n\nfunction* validateParent() {\n  while (true) {\n    try {\n      const action = yield take(approveParent);\n      const { parentId, parentType, } = action.payload;\n\n      let currentParents = yield select(selectParentIds);\n\n      // approved if no current parent of that type\n      // or different than the current\n      if (isDifferent(parentId, currentParents)) {\n        yield put(setParent({ parentId, parentType, }));\n      } else {\n        yield put(breedProgress(BreedProgress.ERROR_SAME_PARENT));\n      }\n\n      // ready to breed if both parents now selected\n      currentParents = yield select(selectParentIds);\n      if (setReady(currentParents)) {\n        yield put(breedProgress(BreedProgress.READY));\n      }\n    } catch (err) {\n      console.error(err);\n      yield put(breedError(err.message));\n    }\n  }\n}\n\n\nfunction* onBreed() {\n  while (true) {\n    try {\n      const breedAction = yield take(breed);\n      const { mumId, dadId, } = breedAction.payload;\n\n      // dispatch breed action and\n      // listen for kitten birth event\n      const result = yield race({\n        breed: all({\n          listen: fork(\n            dispatchKittenOnBirthEventMatch,\n            (kitten) => kitten.mumId === mumId\n              && kitten.dadId === dadId\n          ),\n          dispatch: put(breedKitties(breedAction.payload)),\n          kittenAction: take(kittenBorn),\n        }),\n        error: take(breedKitties.rejected),\n      });\n\n      if (result.breed) {\n        // update parent cooldowns after breeding\n        yield all([\n          put(kittenBredEvent(result.breed.kittenAction.payload.kittyId)),\n          put(fetchKitty(mumId)),\n          put(fetchKitty(dadId)),\n        ]);\n      } else {\n        yield put(breedError(result.error.error.message));\n      }\n    } catch (err) {\n      yield put(breedError(err.message));\n    }\n  }\n}\n\n\nfunction* onSire() {\n  while (true) {\n    try {\n      const sireAction = yield take(sire);\n      const { offer, matronId, } = sireAction.payload;\n      const sireId = offer.tokenId;\n\n      // dispatch siring and listen for kitten birth\n      // cancel if an error ocurrs\n      const result = yield race({\n        breed: all({\n          listen: fork(\n            dispatchKittenOnBirthEventMatch,\n            (kitten) => kitten.mumId === matronId\n              && kitten.dadId === sireId\n          ),\n          dispatch: put(buySireRites({ offer, matronId, })),\n          kittenAction: take(kittenBorn),\n        }),\n        error: take(buySireRites.rejected),\n      });\n\n      if (result.breed) {\n        // update parent cooldowns after breeding\n        yield all([\n          put(kittenBredEvent(result.breed.kittenAction.payload.kittyId)),\n          put(fetchKitty(matronId)),\n          put(fetchKitty(sireId)),\n        ]);\n      } else {\n        yield put(breedError(result.error.error.message));\n      }\n    } catch (err) {\n      yield put(breedError(err.message));\n    }\n  }\n}\n\n\nexport function* breedSaga() {\n  yield all([\n    validateParent(),\n    onBreed(),\n    onSire(),\n  ]);\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Row, Col, Button, ButtonGroup\n} from 'react-bootstrap';\nimport styled from 'styled-components';\n\nimport BreedList, { BreedListType } from './BreedList';\nimport CatBox from '../cat/CatBox';\nimport { CatModel } from '../js/catFactory';\nimport Service from '../js/service';\nimport { BreedProgress, breedReset } from './breedSlice';\nimport { selectKittyById, selectKittyIdsByOwner } from '../cat/catSlice';\nimport { selectOfferByKittyId, selectSireOfferIdsForBreeding } from '../market/offerSlice';\nimport { approveParent, breed, sire } from './breedSaga';\nimport { MediumCatContainer } from '../cat/CatBoxContainers';\n\nconst PlaceHolder = styled.div`\n    color: white;\n    border-radius: 5px;\n    height: 10rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport default function BreedPage() {\n  // from a market sire offer\n  // should lock the dad selection\n  // breed button should buy the offer\n  const dispatch = useDispatch();\n\n  const {\n    dadId,\n    mumId,\n    kittenId,\n    progress,\n    sireOfferId,\n    // error TODO: display errors\n  } = useSelector((state) => state.breed);\n\n  const wallet = useSelector((state) => state.wallet);\n  const kittyList = useSelector((state) => selectKittyIdsByOwner(state, wallet.account));\n  const sireList = useSelector((state) => selectSireOfferIdsForBreeding(state, wallet.account));\n\n  const [list, setList] = useState(kittyList);\n  const [listType, setListType] = useState(BreedListType.user);\n\n  useEffect(() => {\n    // update breed list contents when selected list type changes\n    if (listType === BreedListType.user) {\n      setList(kittyList);\n    } else {\n      setList(sireList);\n    }\n  }, [listType, kittyList, sireList]);\n\n  const isSireList = useCallback(\n    () => listType === BreedListType.sire,\n    [listType]\n  );\n\n  const sireOffer = useSelector((state) => selectOfferByKittyId(state, sireOfferId));\n  const dadKitty = useSelector((state) => selectKittyById(state, dadId));\n  let dad;\n  if (dadKitty) {\n    dad = new CatModel(dadKitty);\n  }\n\n  const mumKitty = useSelector((state) => selectKittyById(state, mumId));\n  let mum;\n  if (mumKitty) {\n    mum = new CatModel(mumKitty);\n  }\n\n  const newKitty = useSelector((state) => selectKittyById(state, kittenId));\n  let kitten;\n  if (newKitty) {\n    kitten = new CatModel(newKitty);\n  }\n\n  const handleOnSetParent = (kitty, parentType) => {\n    dispatch(approveParent({ parentId: kitty.cat.kittyId, parentType, }));\n  };\n\n  const onBreedClicked = async () => {\n    if (sireOffer) {\n      dispatch(sire({ offer: sireOffer, matronId: mumId, }));\n    } else {\n      dispatch(breed({ mumId, dadId, }));\n    }\n  };\n\n  const onResetParents = () => {\n    dispatch(breedReset());\n  };\n\n  const sireCostTxt = sireOffer\n    ? ` (${Service.web3.utils.fromWei(sireOffer.price, 'ether')} ETH)` : '';\n\n  // Set Parents\n  const parentBoxes = [\n    { type: 'Mum', model: mum, },\n    { type: `Dad${sireCostTxt}`, model: dad, }\n  ].map((data) => (\n    <Col key={data.type}>\n      <h5>{data.type}</h5>\n      {\n        data.model\n          ? (\n            <MediumCatContainer>\n              <CatBox model={data.model} />\n            </MediumCatContainer>\n          )\n          : (\n            <PlaceHolder className=\"bg-info\">\n              <h1>?</h1>\n            </PlaceHolder>\n          )\n      }\n    </Col>\n  ));\n\n  let instructionContent;\n  switch (progress) {\n    case BreedProgress.READY:\n      instructionContent = (\n        <Button\n          className=\"mt-2\"\n          onClick={onBreedClicked}\n        >\n          Give them some privacy\n          {sireCostTxt}\n        </Button>\n      );\n      break;\n\n    case BreedProgress.BIRTH:\n      instructionContent = (\n        <div>\n          <p className=\"text-success\">Cogratulations! Your parent kitties now need a rest.</p>\n          <Button\n            variant=\"primary\"\n            onClick={onResetParents}\n          >\n            Breed Different Kitties\n          </Button>\n        </div>\n      );\n      break;\n\n    case BreedProgress.ERROR_SAME_PARENT:\n      instructionContent = <p className=\"bg-warning text-white\">The mum and dad kitty must be different!</p>;\n      break;\n\n    default:\n      instructionContent = <p>Select a Mum and Dad kitty</p>;\n      break;\n  }\n\n  const kittenBox = kitten\n    ? (\n      <div className=\"d-flex flex-column align-items-center mt-4 text-success\">\n        <h5>A new kitten is born!</h5>\n        <CatBox model={kitten} />\n      </div>\n    )\n    : null;\n\n  return (\n    <div className=\"p-2 mt-2\">\n      <h1 className=\"text-center\">Breed Your Kitties</h1>\n      <Row>\n        <Col sm={4} className=\"d-flex flex-column\">\n          <h5 className=\"text-center\">Kitties</h5>\n          <ButtonGroup className=\"p-1\">\n            <Button\n              variant={isSireList() ? 'light' : 'primary'}\n              onClick={() => setListType(BreedListType.user)}\n            >\n              My Kitties\n            </Button>\n            <Button\n              variant={isSireList() ? 'primary' : 'light'}\n              onClick={() => setListType(BreedListType.sire)}\n            >\n              Sire Offers\n            </Button>\n          </ButtonGroup>\n          <BreedList\n            handleOnSetParent={handleOnSetParent}\n            kittyIds={list}\n            listType={listType}\n          />\n        </Col>\n        <Col sm={8} className=\"text-center\">\n          <h5>Parents</h5>\n          {instructionContent}\n          {kittenBox}\n          <Row>{parentBoxes}</Row>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { CatModel } from '../js/catFactory';\nimport CatActions from '../cat/CatActions';\nimport CatBox from '../cat/CatBox';\nimport { selectKittyById } from '../cat/catSlice';\nimport { MediumCatContainer } from '../cat/CatBoxContainers';\n\n\nexport default function Offer({ tokenId, }) {\n  const kitty = useSelector((state) => selectKittyById(state, tokenId));\n  const model = new CatModel(kitty);\n\n  return (\n    <MediumCatContainer>\n      <CatActions\n        kittyId={tokenId}\n        isBuyMode\n      />\n      <CatBox model={model} />\n    </MediumCatContainer>\n  );\n}\n\nOffer.propTypes = {\n  tokenId: PropTypes.string.isRequired,\n};\n\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, Alert, ButtonGroup } from 'react-bootstrap';\n\nimport Offer from './Offer';\nimport { offerTypes } from '../js/kittyConstants';\nimport { OfferEventDismiss, selectOfferIdsByType } from './offerSlice';\nimport { MarketTransType } from './offerSaga';\n\n\nexport default function MarketPage() {\n  const dispatch = useDispatch();\n  const [currOfferType, setCurrOfferType] = useState(offerTypes.sell);\n  const offerIds = useSelector((state) => selectOfferIdsByType(state, currOfferType));\n\n  const eventData = useSelector((state) => state.offers.event);\n  let eventAlert = null;\n  if (eventData) {\n    let msg = '';\n    switch (eventData.TxType) {\n      case MarketTransType.sellOfferPurchased:\n        msg = `Successfully purchased kitty #${eventData.tokenId}`;\n        break;\n      case MarketTransType.offerCancelled:\n        msg = `Offer for kitty #${eventData.tokenId} cancelled!`;\n        break;\n      default:\n        msg = `${eventData.TxType} kitty #${eventData.tokenId}`;\n    }\n    eventAlert = (\n      <Alert\n        variant=\"info\"\n        dismissible\n        show={Boolean(eventData)}\n        onClose={() => dispatch(OfferEventDismiss())}\n      >\n        {msg}\n      </Alert>\n    );\n  }\n\n  const offerBoxes = offerIds.map((id) => <Offer key={id} tokenId={id} />);\n\n  return (\n    <div>\n      <h1>Kitty Marketplace</h1>\n      <p>Buy and sell kitties!</p>\n      {eventAlert}\n      <ButtonGroup className=\"mb-2\">\n        <Button\n          variant={currOfferType === offerTypes.sell ? 'primary' : 'light'}\n          onClick={() => setCurrOfferType(offerTypes.sell)}\n        >\n          Kitties For Sale\n        </Button>\n        <Button\n          variant={currOfferType === offerTypes.sire ? 'primary' : 'light'}\n          onClick={() => setCurrOfferType(offerTypes.sire)}\n        >\n          Sire Offers\n        </Button>\n      </ButtonGroup>\n      <div className=\"d-flex flex-wrap\">\n        {offerBoxes}\n      </div>\n    </div>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nexport const RequestStatus = {\n  idle: 'idle',\n  loading: 'loading',\n  succeeded: 'succeeded',\n  confirmed: 'confirmed',\n  failed: 'failed',\n};\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","import { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport { RequestStatus } from '../js/utils';\n\nconst transStatusAdapter = createEntityAdapter();\n\nconst transStatusSlice = createSlice({\n  name: 'transStatus',\n  initialState: transStatusAdapter.getInitialState(),\n  reducers: {\n    newTransaction: {\n      reducer: transStatusAdapter.addOne,\n      prepare: (id, message) => ({\n        payload: {\n          id,\n          status: RequestStatus.loading,\n          message,\n        },\n      }),\n    },\n    updateTransStatus: {\n      reducer: transStatusAdapter.updateOne,\n      prepare: (id, message, status) => ({\n        payload: {\n          id,\n          changes: { message, status, },\n        },\n      }),\n    },\n    dismissTransStatus: transStatusAdapter.removeOne,\n  },\n});\n\nexport default transStatusSlice.reducer;\n\nexport const {\n  dismissTransStatus,\n  newTransaction,\n  updateTransStatus,\n} = transStatusSlice.actions;\n\nexport const {\n  selectAll: selectAllTransStatus,\n} = transStatusAdapter.getSelectors((state) => state.transStatus);\n","import React from 'react';\nimport { Spinner, Toast } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\n\nimport { RequestStatus } from '../js/utils';\nimport { dismissTransStatus, selectAllTransStatus } from './transStatusSlice';\n\nconst ToastTopLeft = styled(Toast)`\n    position: absolute;\n    left: 1rem;\n    top: 4rem;\n    z-index: 1020;\n    box-shadow: 4px 6px 10px 0px #00000087;\n`;\n\nexport default function TransactionStatusToast() {\n  const dispatch = useDispatch();\n  const transStatuses = useSelector(selectAllTransStatus);\n\n  const toasts = transStatuses.map((trans) => {\n    const color = trans.status === RequestStatus.failed\n      ? 'bg-warning' : 'bg-info text-white';\n\n    const spinner = trans.status === RequestStatus.loading\n      ? <Spinner animation=\"grow\" /> : null;\n\n    const autoHideDelay = trans.status === RequestStatus.succeeded\n      ? 3000 : 99999999;\n\n    return (\n      <ToastTopLeft\n        key={trans.id}\n        className={color}\n        show\n        autohide\n        delay={autoHideDelay}\n        onClose={() => dispatch(dismissTransStatus(trans.id))}\n      >\n        <Toast.Header>\n          <small className=\"mr-auto\">Transaction Status</small>\n        </Toast.Header>\n        <Toast.Body>\n          {spinner}\n          {' '}\n          {trans.message}\n        </Toast.Body>\n      </ToastTopLeft>\n    );\n  });\n\n  return (\n    <>\n      {toasts}\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport { addKittyCreator, removeKittyCreator, selectAllKittyCreators } from './kittyCreatorSlice';\n\nconst Address = styled.div`\n  padding: 0.25rem;\n`;\n\nexport default function AdminPage() {\n  const dispatch = useDispatch();\n  const kittyCreators = useSelector(selectAllKittyCreators);\n  const [newCreator, setNewCreator] = useState('');\n\n  const onRemoveCreatorClicked = (address) => {\n    dispatch(removeKittyCreator(address));\n  };\n\n  const kittyCreatorItems = kittyCreators.map((c) => (\n    <Address key={c}>\n      {c}\n      <Button\n        variant=\"danger\"\n        size=\"sm\"\n        className=\"ml-auto\"\n        onClick={() => onRemoveCreatorClicked(c)}\n      >\n        X\n      </Button>\n    </Address>\n  ));\n\n  const onCreatorChanged = (e) => setNewCreator(e.target.value);\n\n  const onAddCreatorClicked = (event) => {\n    event.preventDefault();\n    dispatch(addKittyCreator(newCreator));\n  };\n\n  return (\n    <div>\n      <h1>Kitty Admin</h1>\n      <h3>Kitty Creators</h3>\n      <div>\n        {kittyCreatorItems}\n      </div>\n      <Form inline onSubmit={onAddCreatorClicked}>\n        <Form.Group>\n          <Form.Control\n            placeholder=\"Kitty Creator address\"\n            onChange={onCreatorChanged}\n          />\n          <Button type=\"submit\">\n            Add\n          </Button>\n        </Form.Group>\n      </Form>\n    </div>\n  );\n}\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Alert, Container } from 'react-bootstrap';\n\nimport AppHeader from './components/AppHeader';\nimport AppFooter from './components/AppFooter';\nimport CatFactory from './components/factory/CatFactory';\nimport CatList from './components/cat/CatList';\nimport Home from './Home';\nimport BreedPage from './components/breed/BreedPage';\nimport MarketPage from './components/market/MarketPage';\nimport TransactionStatusToast from './components/notification/TransactionStatusToast';\nimport { selectOnSupportedNetwork, selectSupportedNetworks } from './components/wallet/walletSlice';\nimport AdminPage from './components/admin/AdminPage';\n\n\nexport default function App() {\n  const wallet = useSelector((state) => state.wallet);\n  const onSupportedNetwork = useSelector(selectOnSupportedNetwork);\n  const supportedNetworks = useSelector(selectSupportedNetworks);\n\n  // make sure connected to a supported network\n  let unsupportedNetwork;\n  if (wallet.network) {\n    unsupportedNetwork = onSupportedNetwork\n      ? null\n      : (\n        <Alert variant=\"danger\">\n          Network\n          {' '}\n          {wallet.network.name}\n          {' '}\n          not supported. Please connect to\n          {' '}\n          {supportedNetworks.map((n) => n.name).join(', ')}\n          {' '}\n          to get started.\n        </Alert>\n      );\n  }\n\n  // only include feature routes if wallet connected\n  // to a supported network\n  let routes = null;\n  if (wallet.account && onSupportedNetwork === true) {\n    const factoryRoute = wallet.isKittyCreator\n      ? (\n        <Route exact path=\"/factory\">\n          <CatFactory />\n        </Route>\n      )\n      : null;\n\n    const adminRoute = wallet.isOwner\n      ? (\n        <Route exact path=\"/admin\">\n          <AdminPage />\n        </Route>\n      )\n      : null;\n\n    routes = (\n      <Switch>\n        {factoryRoute}\n        {adminRoute}\n        <Route exact path=\"/breed\">\n          <BreedPage />\n        </Route>\n        <Route exact path=\"/market\">\n          <MarketPage />\n        </Route>\n        <Route exact path=\"/kitties\">\n          <CatList />\n        </Route>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  }\n\n  return (\n    <div>\n      <Container className=\"p-5\">\n        <TransactionStatusToast />\n        <Router>\n          <AppHeader />\n          {unsupportedNetwork}\n          {routes}\n        </Router>\n        <AppFooter />\n      </Container>\n    </div>\n  );\n}\n","import { eventChannel } from 'redux-saga';\nimport {\n  all, put, take,\n} from 'redux-saga/effects';\n\nimport KittyService from '../js/kitty.service';\nimport Service from '../js/service';\nimport { kittyError } from '../cat/catSlice';\nimport { kittyCreatorAdded, kittyCreatorRemoved } from './kittyCreatorSlice';\nimport { contractInitSuccess } from '../wallet/walletSaga';\n\nfunction createCreatorAddedEventChannel() {\n  return eventChannel((emitter) => {\n    const onEvent = (e) => {\n      // console.log('kittyCreatorSaga:: creator added event', e);\n      emitter(e);\n    };\n\n    Service.kitty.on(KittyService.eventNames.KittyCreatorAdded, onEvent);\n\n    return () => Service.kitty.off(KittyService.eventNames.KittyCreatorAdded, onEvent);\n  });\n}\n\nfunction createCreatorRemovedEventChannel() {\n  return eventChannel((emitter) => {\n    const onEvent = (e) => {\n      // console.log('kittyCreatorSaga:: creator removed event', e);\n      emitter(e);\n    };\n\n    Service.kitty.on(KittyService.eventNames.KittyCreatorRemoved, onEvent);\n\n    return () => Service.kitty.off(KittyService.eventNames.KittyCreatorRemoved, onEvent);\n  });\n}\n\n\nfunction* dispatchKittyCreatorEvent(channel, updateAction) {\n  while (true) {\n    try {\n      const { creator, } = yield take(channel);\n      yield put(updateAction(creator));\n    } catch (err) {\n      console.error(err);\n      yield put(kittyError(err.message));\n    }\n  }\n}\n\n\nexport default function* kittyCreatorSaga() {\n  // watch for Kitty Creator events once kitty contract is initialized\n  yield take(contractInitSuccess);\n\n  yield all([\n    dispatchKittyCreatorEvent(\n      createCreatorAddedEventChannel(),\n      kittyCreatorAdded\n    ),\n    dispatchKittyCreatorEvent(\n      createCreatorRemovedEventChannel(),\n      kittyCreatorRemoved\n    ),\n  ]);\n}\n","import {\n  take, put, all, race, takeEvery\n} from 'redux-saga/effects';\nimport { addKittyCreator, removeKittyCreator } from '../admin/kittyCreatorSlice';\n\nimport {\n  breedKitties, createGen0Kitty, fetchKittiesForIds, getKitties\n} from '../cat/catSlice';\nimport { RequestStatus } from '../js/utils';\nimport {\n  buyKitty, buySireRites, getOffers, removeOffer, sellKitty, sireKitty\n} from '../market/offerSlice';\nimport { connect, contractInitError } from '../wallet/walletSaga';\nimport { approveMarket, connectWallet } from '../wallet/walletSlice';\nimport { dismissTransStatus, newTransaction, updateTransStatus } from './transStatusSlice';\n\nconst messagesByAction = [\n  {\n    loadAction: connect,\n    fulfilledAction: fetchKittiesForIds.fulfilled,\n    rejectedActions: [\n      connectWallet.rejected,\n      contractInitError,\n      fetchKittiesForIds.rejected,\n      getKitties.rejected,\n      getOffers.rejected\n    ],\n    pending: 'Retrieving kitties...',\n  },\n  {\n    prefix: approveMarket.typePrefix,\n    pending: 'Sending market approval...',\n  },\n  {\n    prefix: breedKitties.typePrefix,\n    pending: 'Privacy mode engaged...',\n  },\n  {\n    prefix: createGen0Kitty.typePrefix,\n    pending: 'Creating gen 0 kitty...',\n  },\n  {\n    prefix: sellKitty.typePrefix,\n    pending: 'Creating sell offer...',\n  },\n  {\n    prefix: buyKitty.typePrefix,\n    pending: 'Buying kitty...',\n  },\n  {\n    prefix: sireKitty.typePrefix,\n    pending: 'Creating sire offer...',\n  },\n  {\n    prefix: buySireRites.typePrefix,\n    pending: 'Kittes getting to know each other...',\n  },\n  {\n    prefix: removeOffer.typePrefix,\n    pending: 'Cancelling offer...',\n  },\n  {\n    prefix: addKittyCreator.typePrefix,\n    pending: 'Adding new Kitty Creator...',\n  },\n  {\n    prefix: removeKittyCreator.typePrefix,\n    pending: 'Removing Kitty Creator...',\n  }\n];\n\nconst oops = 'Opps.. something went wrong';\nconst success = 'Success!';\n\nfunction getErrorMessage(actionRejection) {\n  // console.log('getErrorMessage::', actionRejection);\n  let errMsg = oops;\n  if (actionRejection.error) {\n    errMsg = actionRejection.error.message;\n  } else if (actionRejection.payload) {\n    errMsg = actionRejection.payload.error\n      ? actionRejection.payload.error.message\n      : actionRejection.payload;\n  }\n\n  if (errMsg.match(/user denied transaction/i)) {\n    return 'Cancelled by user';\n  }\n\n  return errMsg;\n}\n\nfunction* onTransaction(actionMessage) {\n  const pendingAction = yield take(\n    actionMessage.prefix\n    ? `${actionMessage.prefix}/pending`\n    : actionMessage.loadAction\n    );\n  const id = pendingAction.meta\n  ? pendingAction.meta.requestId\n    : null;\n  \n  const successMessage = actionMessage.fulfilled || success;\n\n  try {\n    // notify user of a new transaction\n    yield put(newTransaction(id, actionMessage.pending));\n\n    // keep looking for a fulfilled action\n    // with the correct transaction id\n    // unless an error occurs\n    let resultAction;\n    const fulFilledActionType = actionMessage.prefix\n      ? `${actionMessage.prefix}/fulfilled`\n      : actionMessage.fulfilledAction;\n    const rejectActionType = actionMessage.prefix\n      ? `${actionMessage.prefix}/rejected`\n      : actionMessage.rejectedActions;\n\n    do {\n      resultAction = yield race({\n        fulfilled: take(fulFilledActionType),\n        rejected: take(rejectActionType),\n      });\n      // console.log(resultAction);\n    } while (!resultAction.rejected\n    && id !== null\n      && resultAction.fulfilled.meta.requestId !== id);\n\n    if (resultAction.fulfilled) {\n      // found matching trans; notify success\n      yield put(updateTransStatus(\n        id, successMessage, RequestStatus.succeeded\n      ));\n      yield put(dismissTransStatus(id));\n    } else {\n      const errorMessage = getErrorMessage(resultAction.rejected);\n      yield put(updateTransStatus(\n        id, errorMessage, RequestStatus.failed\n      ));\n    }\n  } catch (err) {\n    console.error(err);\n    yield put(updateTransStatus(\n      id, oops, RequestStatus.failed\n    ));\n  }\n}\n\nexport default function* transStatusSaga() {\n  yield all(messagesByAction.map(\n    (actionMessage) => takeEvery(\n      actionMessage.prefix\n      ? `${actionMessage.prefix}/pending`\n      : actionMessage.loadAction,\n      onTransaction,\n      actionMessage\n    )\n  ));\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport createSagaMidleware from 'redux-saga';\n\nimport rootSaga from './sagas';\nimport breedReducer from '../components/breed/breedSlice';\nimport kittyReducer from '../components/cat/catSlice';\nimport offerReducer from '../components/market/offerSlice';\nimport transStatusReducer from '../components/notification/transStatusSlice';\nimport walletReducer from '../components/wallet/walletSlice';\nimport networkReducer from '../components/wallet/networkSlice';\nimport kittyCreatorReducer from '../components/admin/kittyCreatorSlice';\n\nconst sagaMiddleware = createSagaMidleware();\n\nexport default configureStore({\n  reducer: {\n    breed: breedReducer,\n    kitties: kittyReducer,\n    offers: offerReducer,\n    wallet: walletReducer,\n    transStatus: transStatusReducer,\n    networks: networkReducer,\n    kittyCreators: kittyCreatorReducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(sagaMiddleware),\n});\n\nsagaMiddleware.run(rootSaga);\n","import { all } from 'redux-saga/effects';\nimport kittyCreatorSaga from '../components/admin/kittyCreatorSaga';\nimport { breedSaga } from '../components/breed/breedSaga';\nimport { catSaga } from '../components/cat/catSaga';\nimport { offerSaga } from '../components/market/offerSaga';\nimport transStatusSaga from '../components/notification/transStatusSaga';\nimport { walletSaga } from '../components/wallet/walletSaga';\n\nexport default function* rootSaga() {\n  yield all([\n    walletSaga(),\n    catSaga(),\n    breedSaga(),\n    kittyCreatorSaga(),\n    offerSaga(),\n    transStatusSaga(),\n  ]);\n}\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport store from './app/store';\nimport './index.css';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}